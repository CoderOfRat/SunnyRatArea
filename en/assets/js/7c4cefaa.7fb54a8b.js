"use strict";(self.webpackChunkmy_website=self.webpackChunkmy_website||[]).push([[3101],{54:(n,e,s)=>{s.r(e),s.d(e,{assets:()=>c,contentTitle:()=>o,default:()=>g,frontMatter:()=>i,metadata:()=>t,toc:()=>d});const t=JSON.parse('{"id":"golang/go doc/index","title":"GoLang \u521d\u89c1","description":"\u5b98\u65b9\u6587\u6863\u7ffb\u8bd1\u4e0e\u5b9e\u8df5","source":"@site/docs/golang/go doc/index.md","sourceDirName":"golang/go doc","slug":"/golang/go doc/","permalink":"/SunnyRatArea/en/docs/golang/go doc/","draft":false,"unlisted":false,"editUrl":"https://github.com/CoderOfRat/SunnyRatArea/tree/main/docs/golang/go doc/index.md","tags":[],"version":"current","frontMatter":{},"sidebar":"golangSiderbar"}');var r=s(4848),l=s(8453);const i={},o="GoLang \u521d\u89c1",c={},d=[{value:"Go\u7f16\u7801\u524d\u7f6e\u77e5\u8bc6",id:"go\u7f16\u7801\u524d\u7f6e\u77e5\u8bc6",level:2},{value:"Golang\u5b98\u7f51\u5165\u95e8\u6587\u6863",id:"golang\u5b98\u7f51\u5165\u95e8\u6587\u6863",level:2},{value:"1. Go\u7a0b\u5e8f\u5305\u83b7\u53d6/\u5b89\u88c5/\u5378\u8f7d",id:"1-go\u7a0b\u5e8f\u5305\u83b7\u53d6\u5b89\u88c5\u5378\u8f7d",level:3},{value:"2. \u5f00\u59cb\u4f7f\u7528go\u8fdb\u884c\u4ee3\u7801\u7f16\u5199",id:"2-\u5f00\u59cb\u4f7f\u7528go\u8fdb\u884c\u4ee3\u7801\u7f16\u5199",level:3},{value:"3. \u8c03\u7528\u5916\u90e8\u5305\u4e2d\u7684\u4ee3\u7801\uff08\u5bfc\u5165\u6a21\u5757\u3001\u6216\u5185\u90e8\u6a21\u5757\uff09",id:"3-\u8c03\u7528\u5916\u90e8\u5305\u4e2d\u7684\u4ee3\u7801\u5bfc\u5165\u6a21\u5757\u6216\u5185\u90e8\u6a21\u5757",level:3},{value:"4. \u521b\u5efa\u672c\u5730Module",id:"4-\u521b\u5efa\u672c\u5730module",level:3},{value:"4.1 \u5728go\u4ee3\u7801\u4e2d\u4f7f\u7528\u5176\u4ed6\u6a21\u5757\u7684\u4ee3\u7801",id:"41-\u5728go\u4ee3\u7801\u4e2d\u4f7f\u7528\u5176\u4ed6\u6a21\u5757\u7684\u4ee3\u7801",level:4},{value:"4.2 \u9519\u8bef\u5904\u7406\u903b\u8f91",id:"42-\u9519\u8bef\u5904\u7406\u903b\u8f91",level:4},{value:"4.3 \u5229\u7528\u5207\u7247\uff08slice\uff09\uff0c\u5b9e\u73b0\u968f\u673a\u6253\u5370\u6b22\u8fce\u8bed",id:"43-\u5229\u7528\u5207\u7247slice\u5b9e\u73b0\u968f\u673a\u6253\u5370\u6b22\u8fce\u8bed",level:4},{value:"4.4 \u591a\u4eba\u6253\u62db\u547c\u7a0b\u5e8f",id:"44-\u591a\u4eba\u6253\u62db\u547c\u7a0b\u5e8f",level:4},{value:"4.5 \u6dfb\u52a0\u5355\u5143\u6d4b\u8bd5",id:"45-\u6dfb\u52a0\u5355\u5143\u6d4b\u8bd5",level:4},{value:"4.6 \u7f16\u8bd1\u5b89\u88c5go\u4ee3\u7801",id:"46-\u7f16\u8bd1\u5b89\u88c5go\u4ee3\u7801",level:4},{value:"5. \u591a\u6a21\u5757\u5de5\u4f5c\u533a\uff08multi-module workspaces\uff09",id:"5-\u591a\u6a21\u5757\u5de5\u4f5c\u533amulti-module-workspaces",level:3},{value:"5.1 \u521b\u5efa\u591a\u6a21\u5757\u5de5\u4f5c\u76ee\u5f55",id:"51-\u521b\u5efa\u591a\u6a21\u5757\u5de5\u4f5c\u76ee\u5f55",level:4},{value:"6. \u4f7f\u7528Go + Gin\u6846\u67b6\uff0c\u5b9e\u73b0Restful API",id:"6-\u4f7f\u7528go--gin\u6846\u67b6\u5b9e\u73b0restful-api",level:3},{value:"6.1 \u8bbe\u8ba1API\u7aef\u70b9",id:"61-\u8bbe\u8ba1api\u7aef\u70b9",level:4},{value:"6.2 \u521d\u59cb\u5316\u9879\u76ee",id:"62-\u521d\u59cb\u5316\u9879\u76ee",level:4},{value:"6.3 \u521b\u5efa\u6570\u636e\u7ed3\u6784",id:"63-\u521b\u5efa\u6570\u636e\u7ed3\u6784",level:4},{value:"6.4 \u7aef\u70b9\u4ee3\u7801\u5b9e\u73b0",id:"64-\u7aef\u70b9\u4ee3\u7801\u5b9e\u73b0",level:4},{value:"6.4.1 \u7f16\u5199\u4e00\u4e2a\u5904\u7406\u7a0b\u5e8f\uff08handler\uff09\u6765\u8fd4\u56de\u6240\u6709\u9879\u76ee",id:"641-\u7f16\u5199\u4e00\u4e2a\u5904\u7406\u7a0b\u5e8fhandler\u6765\u8fd4\u56de\u6240\u6709\u9879\u76ee",level:5},{value:"7. \u6cdb\u578b\u5165\u95e8",id:"7-\u6cdb\u578b\u5165\u95e8",level:3},{value:"8. \u6a21\u7cca\u6d4b\u8bd5\u5165\u95e8",id:"8-\u6a21\u7cca\u6d4b\u8bd5\u5165\u95e8",level:3},{value:"9. \u4f7f\u7528 govulncheck \u67e5\u627e\u5e76\u4fee\u590d\u6613\u53d7\u653b\u51fb\u7684\u4f9d\u8d56\u9879",id:"9-\u4f7f\u7528-govulncheck-\u67e5\u627e\u5e76\u4fee\u590d\u6613\u53d7\u653b\u51fb\u7684\u4f9d\u8d56\u9879",level:3}];function a(n){const e={a:"a",admonition:"admonition",blockquote:"blockquote",code:"code",em:"em",h1:"h1",h2:"h2",h3:"h3",h4:"h4",h5:"h5",header:"header",hr:"hr",img:"img",li:"li",ol:"ol",p:"p",pre:"pre",strong:"strong",ul:"ul",...(0,l.R)(),...n.components};return(0,r.jsxs)(r.Fragment,{children:[(0,r.jsx)(e.header,{children:(0,r.jsx)(e.h1,{id:"golang-\u521d\u89c1",children:"GoLang \u521d\u89c1"})}),"\n",(0,r.jsxs)(e.blockquote,{children:["\n",(0,r.jsx)(e.p,{children:(0,r.jsx)(e.strong,{children:"\u5b98\u65b9\u6587\u6863\u7ffb\u8bd1\u4e0e\u5b9e\u8df5"})}),"\n"]}),"\n",(0,r.jsx)(e.h2,{id:"go\u7f16\u7801\u524d\u7f6e\u77e5\u8bc6",children:"Go\u7f16\u7801\u524d\u7f6e\u77e5\u8bc6"}),"\n",(0,r.jsxs)(e.blockquote,{children:["\n",(0,r.jsx)(e.p,{children:"go\u4ee5\u5305\u7684\u5f62\u5f0f\u7ec4\u7ec7\u4ee3\u7801\uff0c\u4e00\u4e2a\u5305\uff08package\uff09\u4ee3\u8868\u4e00\u4e2a\u6587\u4ef6\u5939\u4e0b\u4e00\u7cfb\u5217\u6e90\u6587\u4ef6\u7684\u96c6\u5408\uff0c\u4ed6\u4eec\u4f1a\u88ab\u4e00\u8d77\u7f16\u8bd1\uff0c\u88ab\u5b9a\u4e49\u5728\u540c\u4e2a\u5305\u4e0b\u7684\u65b9\u6cd5\uff08functions\uff09\u3001\u7c7b\u578b\uff08types\uff09\u3001\u53d8\u91cf\uff08variables\uff09\u3001\u5e38\u91cf\uff08constants\uff09,\u5728\u8be5\u5de5\u4f5c\u533a\u4e0b\u662f\u5171\u4eab\u53ef\u89c1\u7684\u3002"}),"\n"]}),"\n",(0,r.jsxs)(e.p,{children:["\u4e00\u4e2a\u5b58\u50a8\u5e93\uff0c\u53ef\u4ee5\u5305\u542b\u4e00\u4e2a\u6216\u8005\u591a\u4e2a\u6a21\u5757\uff08modules\uff09,\u4e00\u4e2a\u6a21\u5757\u662f\u4e00\u7cfb\u5217\u4e00\u8d77\u53d1\u5e03\u7684\u76f8\u5173go\u5305\uff08packages\uff09\u7684\u96c6\u5408\u3002\u4e00\u4e2ago\u5b58\u50a8\u5e93\uff0c\u901a\u5e38\u53ea\u5305\u542b\u4e00\u4e2a\u6a21\u5757\uff08module\uff09,\u4f4d\u4e8e\u5b58\u50a8\u5e93\u7684\u6839\u76ee\u5f55\u3002\u6839\u76ee\u5f55\u4e0b\u6709\u4e2a\u540d\u4e3a",(0,r.jsx)(e.code,{children:"go.mod"}),"\u7684\u6587\u4ef6\u58f0\u660e\u4e86\u8be5\u6a21\u5757\u7684\u6a21\u5757\u8def\u5f84\uff1a\u6a21\u5757\u5185\u6240\u6709\u5305\u7684\u5bfc\u5165\u8def\u5f84\u524d\u7f00\u3002\u8be5\u6a21\u5757\u5305\u542b\u5176\u4e0b\u7ea7\u5177\u6709\u81ea\u5df1\u7684",(0,r.jsx)(e.code,{children:"go.mod"}),"\u6587\u4ef6\u7684\u76f4\u5c5e\u6a21\u5757\uff0c\u4e0d\u542b\u76f4\u5c5e\u6a21\u5757\u4e0b\u7ea7\u5305\u542b",(0,r.jsx)(e.code,{children:"go.mod"}),"\u6587\u4ef6\u7684\u5b50\u76ee\u5f55\u3002",(0,r.jsx)(e.em,{children:(0,r.jsx)(e.strong,{children:"\uff08\u8fd9\u4e2a\u5b58\u7591\uff0c\u611f\u89c9\u6587\u6863\u5199\u7684\u82f1\u8bed\u6709\u70b9\u7ed5\uff0c\u7b49\u540e\u9762\u5728\u770b\u5230\u5408\u9002\u7684\u89e3\u91ca\uff0c\u518d\u4fee\u6539\uff09"})})]}),"\n",(0,r.jsx)(e.p,{children:"go\u5de5\u4f5c\u7a7a\u95f4\uff0c\u5141\u8bb8\u4f60\u4f7f\u7528\u672c\u5730\u4f9d\u8d56\uff0c\u7c7b\u4f3c\u4e8eMonorepo\u6a21\u5f0f\u4e0b\u7684\u5de5\u4f5c\u7a7a\u95f4\uff0c\u672c\u5730\u4f9d\u8d56\u53ef\u4ee5\u4f5c\u4e3a\u5b9e\u9645\u4f9d\u8d56\u8fdb\u884c\u5f15\u5165\u3002"}),"\n",(0,r.jsxs)(e.p,{children:["go\u5305\u7684\u5bfc\u5165path\uff1a",(0,r.jsx)(e.code,{children:"go.mod"}),"\u6587\u4ef6\u4e2d\u7684\u9996\u884c",(0,r.jsx)(e.code,{children:"module example.com/web-service-gin"}),"\uff0c\u4e0d\u4ec5\u58f0\u660e\u4e86\u5305\u7684\u540d\u5b57\uff0c\u4e5f\u8868\u793a\u4e86\u8be5\u5305\u7684\u4e0b\u8f7d\u5730\u5740\u5e94\u4e3a\uff1a\t",(0,r.jsx)(e.code,{children:"https://example.com/web-service-gin"}),"\u3002"]}),"\n",(0,r.jsxs)(e.p,{children:["\u5728\u6307\u5b9amodule\u5185\u6267\u884c",(0,r.jsx)(e.code,{children:"go install"}),"\u3001",(0,r.jsx)(e.code,{children:"go install ."}),"\u3001",(0,r.jsx)(e.code,{children:"go install \u8be5\u5305\u7684module path"}),"\uff0c\u4f1abuild\u8be5\u5305\u4e3a\u4e8c\u8fdb\u5236\u53ef\u6267\u884c\u6587\u4ef6\u5230",(0,r.jsx)(e.code,{children:"GOBIN\u76ee\u5f55\u4e0b"}),"\uff0c\u5982\u9700\u4fee\u6539/\u91cd\u7f6e",(0,r.jsx)(e.code,{children:"GOBIN"}),"\u73af\u5883\u53d8\u91cf\u914d\u7f6e\uff0c\u53ef\u901a\u8fc7\u4ee5\u4e0b\u547d\u4ee4\uff1a"]}),"\n",(0,r.jsx)(e.pre,{children:(0,r.jsx)(e.code,{className:"language-shell",children:"# \u9ed8\u8ba4\u4e3a linux\u7b49:$HOME/go/bin windows: /users/XXX/go/bin\n# \u4fee\u6539\ngo env -w GOBIN=/somewhere/else/bin\n# \u91cd\u7f6e\ngo env -u GOBIN\n"})}),"\n",(0,r.jsxs)(e.blockquote,{children:["\n",(0,r.jsxs)(e.p,{children:[(0,r.jsx)(e.code,{children:"go install"}),"\u8fd9\u6837\u7684\u547d\u4ee4\uff0c\u9700\u8981\u5728module\u5305\u4e2d\u6267\u884c\uff0c\u5426\u5219\u4f1a\u62a5\u9519\uff0c\u8981\u533a\u522b\u4e8e\u524d\u7aef\u7684",(0,r.jsx)(e.code,{children:"npm install"}),"\uff1b\u4e3a\u4e86\u65b9\u4fbf\u8d77\u89c1\uff0cgo \u547d\u4ee4\u63a5\u53d7\u76f8\u5bf9\u4e8e\u5de5\u4f5c\u76ee\u5f55\u7684\u8def\u5f84\uff0c\u6240\u4ee5\u5728module\u5305\u5185\u6307\u5b9a",(0,r.jsx)(e.code,{children:"go.mod"}),"\u4f4d\u7f6e\uff0c\u6267\u884c",(0,r.jsx)(e.code,{children:"go install"}),"\u3001",(0,r.jsx)(e.code,{children:"go install ."}),"\u3001",(0,r.jsx)(e.code,{children:"go install \u8be5go.mod\u58f0\u660e\u7684module path"}),"\u662f\u7b49\u6548\u7684\u3002"]}),"\n"]}),"\n",(0,r.jsxs)(e.p,{children:[(0,r.jsxs)(e.strong,{children:["\u73af\u5883\u53d8\u91cf",(0,r.jsx)(e.code,{children:"GOPATH"}),"\u6307\u5b9a\u4e86go\u7a0b\u5e8f\u7684\u5de5\u4f5c\u533a\u4f4d\u7f6e\uff0c",(0,r.jsx)(e.code,{children:"GOBIN"}),"\u73af\u5883\u53d8\u91cf\u4e5f\u53ef\u914d\u7f6e\u4e3a\uff1a",(0,r.jsx)(e.code,{children:"%GOPATH%/bin"})]}),"\n\u6dfb\u52a0go\u5de5\u4f5c\u533a\u4f4d\u7f6e\u5230\u7cfb\u7edf\u73af\u5883\u53d8\u91cf\uff0c\u5219\u5de5\u4f5c\u533a\u5185bin\u76ee\u5f55\u7684\u4e8c\u8fdb\u5236\u53ef\u6267\u884c\u6587\u4ef6\u5373\u53ef\u5feb\u901f\u5728\u4efb\u4f55\u4f4d\u7f6e\u6267\u884c"]}),"\n",(0,r.jsx)(e.pre,{children:(0,r.jsx)(e.code,{className:"language-shell",children:"# Windows users should consult /wiki/SettingGOPATH \u5176\u5b9e\u5c31\u662f\u5c06 /users/xxx/go\u76ee\u5f55\u6dfb\u52a0\u5230\u73af\u5883\u53d8\u91cf\n# for setting %PATH%. -- linux\u7b49\nexport PATH=$PATH:$(dirname $(go list -f '{{.Target}}' .))\nhello\n# Hello, world.\n"})}),"\n",(0,r.jsx)(e.p,{children:"\u5305\u540d\uff08module path\uff09\u7684\u547d\u540d\u89c4\u8303\uff0c\u5e94\u53ef\u4ee5\u76f4\u63a5\u5339\u914d\u4e3a\uff1aHTTPS URL\uff0c\u8fd9\u6837\u66f4\u6709\u5229\u4e8e\u522b\u4eba\u6216\u8005\u81ea\u5df1\u5f15\u7528\uff0c\u4e5f\u6709\u52a9\u4e8e\u4ee3\u7406\u670d\u52a1\u6536\u5f55\u3002"}),"\n",(0,r.jsxs)(e.p,{children:["\u5982\u4f55\u5f15\u7528\u672c\u5730\u5305\u5462\uff0c\u53ef\u4ee5\u521b\u5efa\u4e00\u4e2a\u672c\u5730\u5305\u7684\u5f62\u5f0f\u8fdb\u884c\u6f14\u793a\uff1a\n\u5728hello\u76ee\u5f55\u65b0\u5efamorestrings\u76ee\u5f55\uff0c\u8be5\u76ee\u5f55\u4e0b\u65b0\u5efa",(0,r.jsx)(e.code,{children:"revers.go"}),",\u5e76\u952e\u5165\u5982\u4e0b\u4ee3\u7801\uff1a"]}),"\n",(0,r.jsx)(e.pre,{children:(0,r.jsx)(e.code,{className:"language-go",children:'// \u5f15\u7528\u5b98\u7f51\u793a\u4f8b\n// Package morestrings implements additional functions to manipulate UTF-8 encoded strings, \n// beyond what is provided in the standard "strings" package.\npackage morestrings\n\n// ReverseRunes returns its argument string reversed rune-wise left to right.\nfunc ReverseRunes(s string) string {\n    r := []rune(s)\n    for i, j := 0, len(r)-1; i < len(r)/2; i, j = i+1, j-1 {\n        r[i], r[j] = r[j], r[i]\n    }\n    return string(r)\n}\n'})}),"\n",(0,r.jsxs)(e.blockquote,{children:["\n",(0,r.jsx)(e.p,{children:"\u7531\u4e8e\u6211\u4eec\u7f16\u5199\u7684function\u4f7f\u7528\u4e86upper-case\u5f62\u5f0f\u547d\u540d\uff0c\u6240\u4ee5\u4ed6\u662f\u4e00\u4e2a\u88ab\u5bfc\u51fa\u7684\u65b9\u6cd5\uff0c\u53ef\u4ee5\u88ab\u5f15\u5165\u4ed6\u7684\u5176\u4ed6\u5305\u4f7f\u7528\u3002"}),"\n"]}),"\n",(0,r.jsxs)(e.p,{children:["\u63a5\u4e0b\u6765\u53ef\u4ee5\u5728\u5f53\u524d\u76ee\u5f55\u6267\u884c",(0,r.jsx)(e.code,{children:"go build"}),"\uff0c\u8fd9\u4e0d\u4f1a\u4ea7\u751f\u8f93\u51fa\u6587\u4ef6\u3002\u76f8\u53cd\uff0c\u5b83\u4f1a\u5c06\u7f16\u8bd1\u540e\u7684\u5305\u4fdd\u5b58\u5728\u672c\u5730\u6784\u5efa\u7f13\u5b58\u4e2d\u3002--\u8fd9\u6837\u6211\u4eec\u5c31\u53ef\u4ee5\u5728\u5176\u4ed6\u5305\u8fdb\u884c\u76f4\u63a5\u5f15\u7528\n\u7136\u540e\u6211\u4eec\u53ef\u4ee5\u5728hello\u76ee\u5f55\uff0c\u65b0\u5efa\u4e3b\u5165\u53e3\u6587\u4ef6",(0,r.jsx)(e.code,{children:"hello.go"}),",\u5e76\u7f16\u5199\u4ee3\u7801\u5982\u4e0b\uff1a"]}),"\n",(0,r.jsx)(e.pre,{children:(0,r.jsx)(e.code,{className:"language-go",children:'package main\n\nimport (\n    "fmt"\n\n    "example/user/hello/morestrings"\n)\n\nfunc main() {\n    fmt.Println(morestrings.ReverseRunes("!oG ,olleH"))\n}\n'})}),"\n",(0,r.jsxs)(e.p,{children:["\u968f\u540e\u6267\u884c",(0,r.jsx)(e.code,{children:"go install"}),"\uff0c\u66f4\u65b0\u53ef\u6267\u884c\u4e8c\u8fdb\u5236\u6267\u884c\u6587\u4ef6\uff0c\u5b8c\u6210\u540e\u6267\u884c",(0,r.jsx)(e.code,{children:"hello"}),"\u547d\u4ee4"]}),"\n",(0,r.jsx)(e.pre,{children:(0,r.jsx)(e.code,{className:"language-shell",children:"hello\n# Hello, Go!\n"})}),"\n",(0,r.jsxs)(e.p,{children:["\u5f15\u5165\u8fdc\u7a0b\u7684\u5305\uff0c\u5219\u9700\u8981\u5f15\u5165\u540e\u6267\u884c",(0,r.jsx)(e.code,{children:"go mod tidy"}),"\u8fdb\u884c\u8fdc\u7a0b\u5305\u4e0b\u8f7d\uff08\u5df2\u4e0b\u8f7d\u8fc7\u7684\u5305\u5c31\u4e0d\u4f1a\u518d\u6b21\u4e0b\u8f7d\u4e86\uff09\uff0c\u6b64\u547d\u4ee4\u8fd8\u4f1a\u5220\u9664\u6ca1\u7528\u5230\u7684\u5305\u3002"]}),"\n",(0,r.jsxs)(e.p,{children:[(0,r.jsx)(e.code,{children:"go mod tidy"}),"\u4e0b\u8f7d\u7684\u5305\u4f1a\u88ab\u4e0b\u8f7d\u5230",(0,r.jsx)(e.code,{children:"GOPATH"}),"\u76ee\u5f55\u4e0b\u7684pkg/mod\u5b50\u76ee\u5f55\u4e2d\uff0c\u88ab\u4e0b\u8f7d\u5230\u8fd9\u91cc\u7684module\uff0c\u4f1a\u5171\u4eab\u5230\u5176\u4ed6modules\uff08\u5982\u679c\u5f15\u5165\u7684\u7248\u672c\u53f7\u4e00\u81f4\uff09\uff1b\u6240\u4ee5\u6b64\u76ee\u5f55\u4e2d\u7684\u6587\u4ef6\u90fd\u662f\u53ea\u8bfb\u7684\u3002\u5982\u9700\u79fb\u9664\u6240\u6709\u4e0b\u8f7d\u8fc7\u7684modules\uff0c\u5219\u9700\u8981\u6267\u884c\uff1a"]}),"\n",(0,r.jsx)(e.pre,{children:(0,r.jsx)(e.code,{className:"language-shell",children:"go clean -modcache\n"})}),"\n",(0,r.jsx)(e.p,{children:"Go \u5df2\u7ecf\u5185\u90e8\u96c6\u6210\u4e86\u4e00\u4e2a\u7531 go test \u547d\u4ee4\u548c\u6d4b\u8bd5\u5305\u7ec4\u6210\u7684\u8f7b\u91cf\u7ea7\u6d4b\u8bd5\u6846\u67b6\u3002\u5982\u9700\u7f16\u5199\u6d4b\u8bd5\u4ee3\u7801\uff0c\u53ef\u4ee5\u53c2\u8003\u5982\u4e0b\u5b98\u65b9\u63d0\u4f9b\u4ee3\u7801\uff1a"}),"\n",(0,r.jsx)(e.pre,{children:(0,r.jsx)(e.code,{className:"language-go",children:'package morestrings\n\nimport "testing"\n\nfunc TestReverseRunes(t *testing.T) {\n    cases := []struct {\n        in, want string\n    }{\n        {"Hello, world", "dlrow ,olleH"},\n        {"Hello, \u4e16\u754c", "\u754c\u4e16 ,olleH"},\n        {"", ""},\n    }\n    for _, c := range cases {\n        got := ReverseRunes(c.in)\n        if got != c.want {\n            t.Errorf("ReverseRunes(%q) == %q, want %q", c.in, got, c.want)\n        }\n    }\n}\n'})}),"\n",(0,r.jsx)(e.p,{children:"\u7136\u540e\u5728\u5f53\u524d\u6d4b\u8bd5\u6a21\u5757\u76ee\u5f55\uff0c\u6267\u884c\u4ee5\u4e0b\u547d\u4ee4\uff1a"}),"\n",(0,r.jsx)(e.pre,{children:(0,r.jsx)(e.code,{className:"language-shell",children:"cd /hello/morestrings\ngo test\n# PASS\n# ok  \texample/user/hello/morestrings 0.165s\n"})}),"\n",(0,r.jsx)(e.p,{children:(0,r.jsx)(e.em,{children:"\u6e05\u695a\u4ee5\u4e0a\u5185\u5bb9\u540e\uff0c\u5bf9go\u7684\u5f00\u53d1\u6a21\u5f0f\u5c31\u6709\u4e86\u57fa\u672c\u6765\u4e86\u89e3\uff0c\u63a5\u4e0b\u6765\u8fdb\u4e00\u6b65\u6df1\u5165go\u7684\u57fa\u7840\u5f00\u53d1\u8fc7\u7a0b\uff0c\u6700\u540e\u8fdb\u9636web\u6846\u67b6"})}),"\n",(0,r.jsx)(e.hr,{}),"\n",(0,r.jsx)(e.h2,{id:"golang\u5b98\u7f51\u5165\u95e8\u6587\u6863",children:"Golang\u5b98\u7f51\u5165\u95e8\u6587\u6863"}),"\n",(0,r.jsx)(e.h3,{id:"1-go\u7a0b\u5e8f\u5305\u83b7\u53d6\u5b89\u88c5\u5378\u8f7d",children:"1. Go\u7a0b\u5e8f\u5305\u83b7\u53d6/\u5b89\u88c5/\u5378\u8f7d"}),"\n",(0,r.jsxs)(e.ul,{children:["\n",(0,r.jsxs)(e.li,{children:["\u6700\u7b80\u5355\u7684\u65b9\u6cd5\u5c31\u662f\u4e0b\u8f7d\u6307\u5b9a\u5e73\u53f0\u7684\u4e8c\u8fdb\u5236\u5b89\u88c5\u5305\u8fdb\u884c\u5b89\u88c5 ",(0,r.jsx)(e.code,{children:"https://go.dev/doc/install"})]}),"\n",(0,r.jsx)(e.li,{children:"\u5176\u6b21\u662f\u6e90\u7801\u7f16\u8bd1\u5b89\u88c5 \u8fd9\u4e2a\u5b98\u7f51\u6709\u8be6\u7ec6\u6587\u6863\uff0c\u65b0\u5b66\u8005\u4e0d\u5efa\u8bae\uff0c\u771f\u6b63\u719f\u6089golang\u540e\uff0c\u5982\u9700\u5f00\u53d1\u9ad8\u6548\u57fa\u4e8ego\u6838\u5fc3\u7684\u5305\uff0c\u518d\u8fdb\u884c\u6b64\u65b9\u9762\u7814\u8bfb"}),"\n",(0,r.jsx)(e.li,{children:"\u591a\u7248\u672c\u7ba1\u7406\uff0c\u9700\u8981gitshell\u652f\u6491\uff0c\u6267\u884c\u5982\u4e0b\u547d\u4ee4"}),"\n"]}),"\n",(0,r.jsx)(e.pre,{children:(0,r.jsx)(e.code,{className:"language-shell",children:"go install golang.org/dl/go1.10.7@latest\n\ngo1.10.7 download\n\ngo1.10.7 version\n## go version go1.10.7 linux/amd64\n\ngo1.10.7 env GOROOT\n## \u53ef\u4ee5\u67e5\u770b\u6b64\u7248\u672c\u7684\u73af\u5883\u53d8\u91cf\u76ee\u5f55\n## \u8981\u5378\u8f7d\u6307\u5b9a\u7248\u672c\u7684go, \u53ea\u9700\u8981\u901a\u8fc7\u6b64\u7248\u672c\u7684\u73af\u5883\u53d8\u91cf\u627e\u5230\u6307\u5b9a\u76ee\u5f55\u7684\u4e8c\u8fdb\u5236\u5305\u8fdb\u884c\u76f4\u63a5\u5220\u9664 \u66f4\u591a\u5e73\u53f0\u5378\u8f7d\u65b9\u5f0f\uff0c\u53ef\u4ee5\u53c2\u8003\u5b98\u65b9\n"})}),"\n",(0,r.jsx)(e.h3,{id:"2-\u5f00\u59cb\u4f7f\u7528go\u8fdb\u884c\u4ee3\u7801\u7f16\u5199",children:"2. \u5f00\u59cb\u4f7f\u7528go\u8fdb\u884c\u4ee3\u7801\u7f16\u5199"}),"\n",(0,r.jsxs)(e.ol,{children:["\n",(0,r.jsx)(e.li,{children:"\u521d\u59cb\u5316\u5de5\u4f5c\u7a7a\u95f4"}),"\n"]}),"\n",(0,r.jsx)("p",{children:"\u5728\u5e38\u7528\u7684\u5de5\u4f5c\u76ee\u5f55\u65b0\u5efa\u6587\u4ef6\u5939\uff0c\u5728\u6b64\u6587\u4ef6\u5939\u4f4d\u7f6e\u6253\u5f00cmd/shell/bash\u7b49\uff0c\u6267\u884c\u5982\u4e0b\u811a\u672c"}),"\n",(0,r.jsx)(e.pre,{children:(0,r.jsx)(e.code,{className:"language-shell",children:"mkdir hello\ncd hello\n# go mod \u53ef\u4ee5\u8fdb\u884cgolang\u9879\u76ee\u5de5\u4f5c\u7a7a\u95f4\u521d\u59cb\u5316\u5de5\u4f5c\ngo mod init example/hello\n# go: creating new go.mod: module example/hello\n# go: to add module requirements and sums:\n        # go mod tidy\n"})}),"\n",(0,r.jsxs)(e.p,{children:["\u6267\u884c\u540e\u4f1a\u53d1\u73b0\uff0c\u76ee\u5f55\u4e2d\u751f\u6210\u4e86",(0,r.jsx)(e.code,{children:"go.mod"}),"\u6587\u4ef6,\n\u968f\u540e\u5728\u5f53\u524d\u76ee\u5f55\u65b0\u5efa",(0,r.jsx)(e.code,{children:"hello.go"}),"\u6587\u4ef6\uff0c\u7f16\u5199\u5982\u4e0b\u5165\u95e8\u4ee3\u7801:"]}),"\n",(0,r.jsx)(e.pre,{children:(0,r.jsx)(e.code,{className:"language-go",children:'package main\n\nimport ("fmt")\n\nfunc main() {\n    fmt.Println("Hello World!")\n}\n'})}),"\n",(0,r.jsxs)(e.p,{children:["\u4fdd\u5b58\u540e\uff0c\u7ec8\u7aef\u6267\u884c",(0,r.jsx)(e.code,{children:"go run ."}),",\u7ec8\u7aef\u6253\u5370",(0,r.jsx)(e.code,{children:"Hello World!"}),",\u6807\u5fd7\u7740\u5b8c\u6210\u4e86go\u7684\u7b2c\u4e00\u4e2a\u7a0b\u5e8f\u8fd0\u884c"]}),"\n",(0,r.jsxs)(e.blockquote,{children:["\n",(0,r.jsxs)(e.p,{children:["\u6ce8\u610f\u70b91\uff1a\u5f15\u5165go\u5305\u7684\u65b9\u5f0f\uff0c",(0,r.jsx)(e.code,{children:"import 'fmt'"}),"\u3001",(0,r.jsx)(e.code,{children:"import ('a/exmaple/mod' \\n b/example/mod)"})," ",(0,r.jsx)("br",{}),"\n\u6ce8\u610f\u70b92\uff1amain \u51fd\u6570\u4e00\u4e2a\u5305\u91cc\u53ea\u4f1a\u6709\u4e00\u4e2a\u4e3b\u5165\u53e3\u51fd\u6570"]}),"\n"]}),"\n",(0,r.jsx)(e.h3,{id:"3-\u8c03\u7528\u5916\u90e8\u5305\u4e2d\u7684\u4ee3\u7801\u5bfc\u5165\u6a21\u5757\u6216\u5185\u90e8\u6a21\u5757",children:"3. \u8c03\u7528\u5916\u90e8\u5305\u4e2d\u7684\u4ee3\u7801\uff08\u5bfc\u5165\u6a21\u5757\u3001\u6216\u5185\u90e8\u6a21\u5757\uff09"}),"\n",(0,r.jsxs)(e.blockquote,{children:["\n",(0,r.jsx)("a",{href:"https://pkg.go.dev",children:"go\u751f\u6001\u5305\u68c0\u7d22\uff1apkg.go.dev"}),"\n"]}),"\n",(0,r.jsx)(e.p,{children:"\u5f53\u5f00\u53d1\u8fc7\u7a0b\u4e2d\uff0c\u9700\u8981\u4f7f\u7528\u5176\u4ed6\u5df2\u5f00\u53d1\u597d\u7684\u5176\u4ed6\u6a21\u5757\uff0c\u6211\u4eec\u9700\u8981\u8fd9\u6837\u505a\uff1a"}),"\n",(0,r.jsxs)(e.ol,{children:["\n",(0,r.jsx)(e.li,{children:"\u5728\u4e0a\u8ff0\u751f\u6001\u5305\u68c0\u7d22\u9875\u9762\u641c\u7d22\u9700\u8981\u7684\u5305"}),"\n",(0,r.jsx)(e.li,{children:"\u901a\u8fc7import\u5173\u952e\u5b57\u58f0\u660e\u5f15\u5165"}),"\n",(0,r.jsxs)(e.li,{children:["\u6267\u884c",(0,r.jsx)(e.code,{children:"go mod tidy"}),",\u7b49\u5f85\u6a21\u5757\u4e0b\u8f7d\u5b8c\u6bd5\uff0c\u5373\u53ef\u5728\u4ee3\u7801\u4e2d\u4f7f\u7528"]}),"\n"]}),"\n",(0,r.jsx)(e.p,{children:"\u4ee3\u7801\u793a\u4f8b\uff1a"}),"\n",(0,r.jsx)(e.pre,{children:(0,r.jsx)(e.code,{className:"language-go",children:'package main\n\nimport (\n\t"fmt"\n\n\t"rsc.io/quote/v4"\n)\n\nfunc main() {\n\tfmt.Println("Hello world!\\n")\n\n\tfmt.Println(quote.Go())\n}\n'})}),"\n",(0,r.jsxs)(e.blockquote,{children:["\n",(0,r.jsxs)(e.p,{children:["go mod tidy: \u4e0b\u8f7d/\u5173\u8054/\u5220\u9664 \u5f53\u524d\u76ee\u5f55\u4e0b\u7684\u4f9d\u8d56\u6a21\u5757 \u7c7b\u4f3c",(0,r.jsx)(e.code,{children:"npm install"}),"\uff1b\u56fd\u5185\u6267\u884c",(0,r.jsx)(e.code,{children:"go mod tidy"}),"\u4e00\u822c\u4f1a\u4e0b\u8f7d\u5931\u8d25\uff0c\u8fd9\u65f6\u5019\u6211\u4eec\u4fee\u6539\u9ed8\u8ba4\u4ee3\u7406\u73af\u5883\u53d8\u91cf\uff0c\u9700\u8981\u627e\u5230go\u7684\u5b89\u88c5\u76ee\u5f55\u4e2d\u7684",(0,r.jsx)(e.code,{children:"go.env"}),"\u6587\u4ef6\u8fdb\u884c\u4fee\u6539\uff0c\u4fee\u6539\u5982\u4e0b\uff1a"]}),"\n"]}),"\n",(0,r.jsx)(e.pre,{children:(0,r.jsx)(e.code,{className:"language-bash",children:"# GOPROXY=https://proxy.golang.org,direct\nGOPROXY=https://goproxy.cn,direct ## \u4f7f\u7528\u4e03\u725b\u4e91\u4ee3\u7406\n# \u5982\u679c\u5931\u6548\uff0c\u81ea\u884c\u767e\u5ea6\n"})}),"\n",(0,r.jsx)(e.p,{children:"\u6216\u8005\u6267\u884c\u4ee5\u4e0b\u811a\u672c\u8bbe\u7f6e \u4e0b\u8ff0\u65b9\u5f0f\u4f18\u5148\u7ea7\u5927\u4e8ego.env\u6587\u4ef6\u914d\u7f6e\uff0c\u6267\u884c\u4e0b\u9762\u7684\u811a\u672c\u540e\uff0cgo.env\u6587\u4ef6\u7684\u4e0b\u8f7d\u4ee3\u7406\u53ef\u4ee5\u4e0d\u7528\u4fee\u6539"}),"\n",(0,r.jsx)(e.pre,{children:(0,r.jsx)(e.code,{className:"language-shell",children:'go env -w GO111MODULE=on\ngo env -w GOPROXY=https://goproxy.cn,direct\n\n# windows \u73af\u5883\u4ea6\u53ef\u901a\u8fc7PowerShell\u8bbe\u7f6e\u73af\u5883\u53d8\u91cf\uff0c\u5c31\u4e0d\u7528\u6267\u884c\u4e0a\u8ff0\u811a\u672c\u4e86,\n$env:GO111MODULE = "on"\n$env:GOPROXY = "https://goproxy.cn"\n'})}),"\n",(0,r.jsxs)(e.p,{children:["\u5b8c\u6210\u4e0a\u8ff0\u7684\u7f16\u7801\u53ca\u914d\u7f6e\uff0c\u5e76\u4e0b\u8f7d\u5b8c\u6bd5\u540e\uff0c\u6267\u884cgo mod tidy,\u7b49\u5f85\u4e0b\u8f7d/\u6216\u8005\u5173\u8054\u5b8c\u6210\u540e\uff0c\u6267\u884c",(0,r.jsx)(e.code,{children:"go run ."}),"\uff0c\u5373\u53ef\u770b\u5230\u6253\u5370\u51fa\u6709\u5173\u901a\u4fe1\u7684\u8bed\u5f55"]}),"\n",(0,r.jsx)(e.h3,{id:"4-\u521b\u5efa\u672c\u5730module",children:"4. \u521b\u5efa\u672c\u5730Module"}),"\n",(0,r.jsxs)(e.blockquote,{children:["\n",(0,r.jsx)(e.p,{children:"Go code is grouped into packages, and packages are grouped into modules.\n\u60a8\u7684\u6a21\u5757(go.mod)\u6307\u5b9a\u8fd0\u884c\u4ee3\u7801\u6240\u9700\u7684\u4f9d\u8d56\u9879(first require)\uff0c\u8fd8\u5305\u62ec Go \u7248\u672c(go 1.24.0)\u548c\u5b83\u6240\u9700\u7684\u5176\u4ed6\u6a21\u5757\u96c6(second require)\u3002"}),"\n"]}),"\n",(0,r.jsxs)(e.ul,{children:["\n",(0,r.jsx)(e.li,{children:"\u8fdb\u5165\u5de5\u4f5c\u76ee\u5f55"}),"\n"]}),"\n",(0,r.jsx)(e.pre,{children:(0,r.jsx)(e.code,{className:"language-shell",children:"cd yourworkspaceforgo\n"})}),"\n",(0,r.jsxs)(e.ul,{children:["\n",(0,r.jsx)(e.li,{children:"\u521b\u5efaGo \u6a21\u5757\u4ee3\u7801\u76ee\u5f55"}),"\n"]}),"\n",(0,r.jsx)(e.pre,{children:(0,r.jsx)(e.code,{className:"language-shell",children:"mkdir greetings\n"})}),"\n",(0,r.jsxs)(e.ul,{children:["\n",(0,r.jsxs)(e.li,{children:["\u4f7f\u7528",(0,r.jsx)(e.code,{children:"go mod init xxx"}),"\uff0c\u521d\u59cb\u5316\u6a21\u5757\uff0c\u7c7b\u4f3c\u4e8e",(0,r.jsx)(e.code,{children:"npm init -y xxx"})]}),"\n"]}),"\n",(0,r.jsx)(e.pre,{children:(0,r.jsx)(e.code,{className:"language-shell",children:"go mod init example.com/greetings\n# go: creating new go.mod: module example.com/greetings\n"})}),"\n",(0,r.jsxs)(e.blockquote,{children:["\n",(0,r.jsxs)(e.p,{children:[(0,r.jsx)(e.code,{children:"go mod init"})," \u547d\u4ee4\u521b\u5efa\u4e00\u4e2a ",(0,r.jsx)(e.code,{children:"go.mod"})," \u6587\u4ef6\u6765\u8ddf\u8e2a\u4ee3\u7801\u7684\u4f9d\u8d56\u5173\u7cfb\uff0c\u8be5\u6587\u4ef6\u4e2d\u76ee\u524d\u53ea\u5305\u542b ",(0,r.jsx)(e.code,{children:"\u6a21\u5757\u540d"})," \u548c ",(0,r.jsx)(e.code,{children:"\u5f53\u524d\u6a21\u5757\u652f\u6301\u7684go\u7248\u672c\u53f7"})," \u7684\u76f8\u5173\u58f0\u660e\uff1b\n\u4f46\u662f\u5f53\u4f60\u6dfb\u52a0\u4f9d\u8d56\u9879\u65f6\uff0c",(0,r.jsx)(e.code,{children:"go.mod"})," \u6587\u4ef6\u5c06\u5217\u51fa\u4f60\u7684\u4ee3\u7801\u6240\u4f9d\u8d56\u7684\u7248\u672c\u3002\u8fd9\u53ef\u4ee5\u4fdd\u6301\u6784\u5efa\u7684\u53ef\u91cd\u590d\u6027\uff0c\u5e76\u8ba9\u4f60\u76f4\u63a5\u63a7\u5236\u8981\u4f7f\u7528\u7684\u6a21\u5757\u7248\u672c\u3002"]}),"\n"]}),"\n",(0,r.jsxs)(e.ul,{children:["\n",(0,r.jsxs)(e.li,{children:["\u5728\u6b64\u76ee\u5f55\u4e2d\u521b\u5efa ",(0,r.jsx)(e.code,{children:"greetings.go"})," \u6587\u4ef6\uff0c\u7136\u540e\u8f93\u5165\u5982\u4e0b\u4ee3\u7801\uff1a"]}),"\n"]}),"\n",(0,r.jsx)(e.pre,{children:(0,r.jsx)(e.code,{className:"language-go",children:'package greetings\n\nimport "fmt"\n\n// Hello returns a greeting for the named person.\nfunc Hello(name string) string {\n    // Return a greeting that embeds the name in a message.\n    message := fmt.Sprintf("Hi, %v. Welcome!", name)\n    return message\n}\n'})}),"\n",(0,r.jsxs)(e.blockquote,{children:["\n",(0,r.jsx)(e.p,{children:"\u5728Go\u4e2d\uff0c\u540d\u79f0\u4ee5\u5927\u5199\u5b57\u6bcd\u5f00\u5934\u7684\u51fd\u6570\u53ef\u4ee5\u88ab\u4e0d\u5728\u540c\u4e00\u5305\u4e2d\u7684\u51fd\u6570\u8c03\u7528\u3002\n\u5728 Go \u4e2d\uff0c:= \u8fd0\u7b97\u7b26\u662f\u4e00\u79cd\u5728\u4e00\u884c\u4e2d\u58f0\u660e\u548c\u521d\u59cb\u5316\u53d8\u91cf\u7684\u5feb\u6377\u65b9\u5f0f\uff08Go \u4f7f\u7528\u53f3\u4fa7\u7684\u503c\u6765\u786e\u5b9a\u53d8\u91cf\u7684\u7c7b\u578b\uff09\u3002\n\u4ece\u957f\u8fdc\u6765\u770b\uff0c\u60a8\u53ef\u80fd\u4f1a\u5c06\u5176\u5199\u6210\uff1a"}),"\n"]}),"\n",(0,r.jsx)(e.pre,{children:(0,r.jsx)(e.code,{className:"language-go",children:'var message string\n\nmessage = fmt.Printf("Hi, %v. Welcome!", name)\n'})}),"\n",(0,r.jsx)(e.p,{children:(0,r.jsx)(e.em,{children:"\u4ee5\u4e0a\u5185\u5bb9\uff0c\u521b\u5efa\u4e86\u7b2c\u4e00\u4e2a\u5411\u5916\u66b4\u9732\u51fd\u6570\u7684module\uff0c\u63a5\u4e0b\u6765\u6211\u4eec\u53ef\u4ee5\u5728\u5176\u4ed6\u6a21\u5757\u5f15\u5165\u6211\u4eec\u521b\u5efa\u7684module\u3002"})}),"\n",(0,r.jsx)(e.h4,{id:"41-\u5728go\u4ee3\u7801\u4e2d\u4f7f\u7528\u5176\u4ed6\u6a21\u5757\u7684\u4ee3\u7801",children:"4.1 \u5728go\u4ee3\u7801\u4e2d\u4f7f\u7528\u5176\u4ed6\u6a21\u5757\u7684\u4ee3\u7801"}),"\n",(0,r.jsxs)(e.p,{children:["\u65b0\u5efa\u6a21\u5757\u76ee\u5f55 ",(0,r.jsx)(e.code,{children:"hello"}),"\uff0c\u521d\u59cb\u5316\u540e\uff0c\u5f15\u5165\u4e4b\u524d\u521b\u5efa\u7684module"]}),"\n",(0,r.jsx)(e.pre,{children:(0,r.jsx)(e.code,{className:"language-shell",children:"cd ..\n\nmkdir hello\n\ncd hello\n\ngo mod init github.com/coderofrat/hello\n"})}),"\n",(0,r.jsxs)(e.p,{children:["\u65b0\u5efa",(0,r.jsx)(e.code,{children:"hello.go"}),",\u952e\u5165\u5982\u4e0b\u4ee3\u7801\uff1a"]}),"\n",(0,r.jsx)(e.pre,{children:(0,r.jsx)(e.code,{className:"language-go",children:'package main\n\nimport (\n\t"fmt"\n\n\t"rsc.io/quote/v4"\n\n\t"example.com/greetings"\n)\n\nfunc main() {\n\tfmt.Println("Hello world!")\n\n\tfmt.Println(quote.Go())\n\n\tfmt.Println(greetings.Hello("CoderOfRat"))\n}\n'})}),"\n",(0,r.jsxs)(e.p,{children:["\u6b64\u65f6\u6267\u884c",(0,r.jsx)(e.code,{children:"go mod tidy"}),"\uff0c\u5c06\u4f1a\u63d0\u793a\u627e\u4e0d\u5230",(0,r.jsx)(e.code,{children:"example.com/greetings"}),"\u6a21\u5757\uff1a"]}),"\n",(0,r.jsxs)(e.blockquote,{children:["\n",(0,r.jsxs)(e.p,{children:["\u7531\u4e8e\u5f15\u5165\u7684",(0,r.jsx)(e.code,{children:"example.com/greetings"}),"\u5305\u5c1a\u672a\u53d1\u5e03\uff0c\u56e0\u6b64\u4e3a\u4e86\u672c\u5730\u9002\u7528\u6b64\u6a21\u5757\uff0c\u6211\u4eec\u9700\u8981\u8fdb\u884c\u8def\u5f84\u6307\u5b9a\uff0c\u8ba9\u4f9d\u8d56\u6a21\u5757\u53ef\u4ee5\u7d22\u5f15\u5230\u672c\u5730\u6a21\u5757\u3002\n\u5982\u679c\u8981\u4f7f\u7528\u7684\u5305\uff0c\u5c1a\u672a\u53d1\u5e03\uff0c\u6bd4\u5982\u662f\u81ea\u5df1\u672c\u5730\u7684module\uff0c\u6267\u884c",(0,r.jsx)(e.code,{children:"go mod edit -replaace example.com/greetings=../greetings"}),",\u53ef\u4ee5\u544a\u8bc9go tools\u9488\u5bf9\u6b64module\u9700\u8981\u91cd\u5b9a\u5411\u7d22\u5f15\u4f4d\u7f6e\u3002\u8be5\u547d\u4ee4\u6307\u5b9a\u4e86\u5e94\u5c06 example.com/greetings \u66ff\u6362\u4e3a ../greetings\uff0c\u4ee5\u4fbf\u5b9a\u4f4d\u4f9d\u8d56\u9879\u3002"]}),"\n"]}),"\n",(0,r.jsx)(e.pre,{children:(0,r.jsx)(e.code,{className:"language-shell",children:"go mod edit -replace example.com/greetings=../greetings\n"})}),"\n",(0,r.jsxs)(e.p,{children:["\u8fd0\u884c\u8be5\u547d\u4ee4\u540e\uff0c",(0,r.jsx)(e.code,{children:"hello"}),"\u76ee\u5f55\u4e2d\u7684",(0,r.jsx)(e.code,{children:"go.mod"}),"\u6587\u4ef6\u5e94\u5305\u542b\u4e00\u4e2a",(0,r.jsx)(e.code,{children:"replace"}),"\u6307\u4ee4\uff1a"]}),"\n",(0,r.jsxs)(e.blockquote,{children:["\n",(0,r.jsx)(e.p,{children:"\u6a21\u5757\u8def\u5f84\u540e\u9762\u7684\u6570\u5b57\u662f\u4f2a\u7248\u672c\u53f7\u2014\u2014\u7528\u6765\u4ee3\u66ff\u8bed\u4e49\u7248\u672c\u53f7\u6240\u751f\u6210\u7684\u6570\u5b57"}),"\n"]}),"\n",(0,r.jsx)(e.pre,{children:(0,r.jsx)(e.code,{className:"language-sh",children:"module github.com/coderofrat/hello\n\ngo 1.24.0\n\nrequire (\n\texample.com/greetings v0.0.0-00010101000000-000000000000\n\trsc.io/quote/v4 v4.0.1\n)\n\nrequire (\n\tgolang.org/x/text v0.22.0 // indirect\n\trsc.io/sampler v1.3.0 // indirect\n)\n\nreplace example.com/greetings => ../greetings\n"})}),"\n",(0,r.jsxs)(e.p,{children:["\u4ece ",(0,r.jsx)(e.code,{children:"hello"})," \u76ee\u5f55\u4e2d\u7684\u547d\u4ee4\u63d0\u793a\u7b26\u4e2d\uff0c\u8fd0\u884c ",(0,r.jsx)(e.code,{children:"go mod tidy"})," \u547d\u4ee4\u6765\u540c\u6b65 ",(0,r.jsx)(e.code,{children:"example.com/hello"})," \u6a21\u5757\u7684\u4f9d\u8d56\u9879\uff0c\u6dfb\u52a0\u4ee3\u7801\u6240\u9700\u4f46\u5c1a\u672a\u5728\u6a21\u5757\u4e2d\u8ddf\u8e2a\u7684\u4f9d\u8d56\u9879\u3002"]}),"\n",(0,r.jsx)(e.pre,{children:(0,r.jsx)(e.code,{className:"language-shell",children:"$ go mod tidy\ngo: found example.com/greetings in example.com/greetings v0.0.0-00010101000000-000000000000\n"})}),"\n",(0,r.jsxs)(e.p,{children:["\u6267\u884c\u540e\uff0c",(0,r.jsx)(e.code,{children:"go.mod"})," \u6587\u4ef6\u4e2d\u7684\u5185\u5bb9\u5982\u4e0b\uff1a"]}),"\n",(0,r.jsx)(e.pre,{children:(0,r.jsx)(e.code,{className:"language-sh",children:"module example.com/hello\n\ngo 1.24.0\n\nreplace example.com/greetings => ../greetings\n\nrequire example.com/greetings v0.0.0-00010101000000-000000000000\n"})}),"\n",(0,r.jsxs)(e.p,{children:["\u968f\u540e\u6267\u884c",(0,r.jsx)(e.code,{children:"go run ."}),",\u8f93\u51fa\u5982\u4e0b\uff1a"]}),"\n",(0,r.jsx)(e.pre,{children:(0,r.jsx)(e.code,{className:"language-shell",children:"go run .\n# Hello world!\n# Don't communicate by sharing memory, share memory by communicating.\n# Hi, CoderOfRat. Welcome!\n"})}),"\n",(0,r.jsx)(e.p,{children:(0,r.jsx)(e.img,{alt:"go run .",src:s(5317).A+"",width:"2026",height:"1139"})}),"\n",(0,r.jsx)(e.p,{children:(0,r.jsx)(e.em,{children:"\u81f3\u6b64\uff0c\u5df2\u7ecf\u5b8c\u6210\u4e86\u4e24\u4e2a\u53ef\u8fd0\u884c\u6a21\u5757\u7684\u7f16\u5199/\u8fd0\u884c\uff0c\u63a5\u4e0b\u6765\u6211\u4eec\u6765\u7ed9\u4ee3\u7801\u6dfb\u52a0\u4e00\u4e9b\u9519\u8bef\u5904\u7406\u903b\u8f91"})}),"\n",(0,r.jsx)(e.h4,{id:"42-\u9519\u8bef\u5904\u7406\u903b\u8f91",children:"4.2 \u9519\u8bef\u5904\u7406\u903b\u8f91"}),"\n",(0,r.jsxs)(e.p,{children:["\u4ee3\u7801\u7684\u9519\u8bef\u5904\u7406\u903b\u8f91\uff0c\u662f\u8ba9go\u4ee3\u7801\u4fdd\u6301\u5065\u58ee\u7684\u57fa\u672c\u8981\u7d20\uff0c\u6211\u4eec\u7ed9\u4e4b\u524d\u7684",(0,r.jsx)(e.code,{children:"greetings"}),"\u6a21\u5757\u6dfb\u52a0\u9519\u8bef\u5904\u7406\u7684\u76f8\u5173\u4ee3\u7801\uff1a"]}),"\n",(0,r.jsx)(e.pre,{children:(0,r.jsx)(e.code,{className:"language-go",children:'package greetings\n\nimport (\n\t"errors"\n\t"fmt"\n)\n\n// Hello returns a greeting for the named person.\nfunc Hello(name string) (string, error) {\n\t// \u5982\u679cnames\u8f93\u5165\u4e3a\u7a7a\u5b57\u7b26\u4e32\uff0c\u5219\u8fd4\u56de\u7a7a\u5b57\u7b26\u4e32\uff0c\u629b\u51fa\u5f02\u5e38\u4fe1\u606f(\u5f02\u5e38\u4fe1\u606f\u5f00\u5934\u9996\u5b57\u6bcd\u4e0d\u5141\u8bb8\u5927\u5199)\n\tif name == "" {\n\t\treturn name, errors.New("empty name provided")\n\t}\n\t// Return a greeting that embeds the name in a message.\n\tmessage := fmt.Sprintf("Hi, %v. Welcome!", name)\n    // \u5728\u6210\u529f\u8fd4\u56de\u65f6\u6dfb\u52a0 nil\uff08\u8868\u793a\u6ca1\u6709\u9519\u8bef\uff09\u4f5c\u4e3a\u7b2c\u4e8c\u4e2a\u503c\u3002\u8fd9\u6837\uff0c\u8c03\u7528\u8005\u5c31\u53ef\u4ee5\u770b\u5230\u51fd\u6570\u6210\u529f\u4e86\u3002\n\treturn message, nil\n}\n'})}),"\n",(0,r.jsxs)(e.blockquote,{children:["\n",(0,r.jsxs)(e.p,{children:["go \u4ee3\u7801\u662f",(0,r.jsx)(e.strong,{children:"\u9759\u6001\u7c7b\u578b\u7f16\u8bd1\u578b"}),"\u8bed\u8a00\uff0c\u56e0\u6b64\u9519\u8bef\u7684\u7a0b\u5e8f\u8f93\u5165\u4e0d\u4f1a\u7f16\u8bd1\u6210\u529f\uff0c\u6240\u4ee5\u5f02\u5e38\u5904\u7406\u4e00\u822c\u4e0d\u8003\u8651\u6b64\u65b9\u9762\u3002"]}),"\n"]}),"\n",(0,r.jsxs)(e.p,{children:["\u7136\u540e\u6211\u4eec\u5728\u4f7f\u7528\u66f4\u65b0\u540e\u7684",(0,r.jsx)(e.code,{children:"greetings"}),"\u5305\u7684\u65f6\u5019\uff0c\u5c31\u9700\u8981\u6dfb\u52a0\u5bf9\u5e94\u7684\u5f02\u5e38\u6355\u83b7\u4ee3\u7801\uff1a"]}),"\n",(0,r.jsx)(e.pre,{children:(0,r.jsx)(e.code,{className:"language-go",children:'package main\n\nimport (\n\t"fmt"\n\t"log"\n\n\t"rsc.io/quote/v4"\n\n\t"example.com/greetings"\n)\n\nfunc main() {\n\t// Set properties of the predefined Logger, including\n\t// the log entry prefix and a flag to disable printing\n\t// the time, source file, and line number.\n    // \u914d\u7f6e\u65e5\u5fd7\u5305\u4ee5\u5728\u5176\u65e5\u5fd7\u6d88\u606f\u7684\u5f00\u5934\u6253\u5370\u547d\u4ee4\u540d\u79f0\uff08\u201cgreetings:\u201d\uff09\uff0c\u4e0d\u5e26\u65f6\u95f4\u6233\u6216\u6e90\u6587\u4ef6\u4fe1\u606f\u3002\n\tlog.SetPrefix("greetings:")\n\tlog.SetFlags(0)\n\n\tfmt.Println("Hello world!")\n\n\tfmt.Println(quote.Go())\n\n\t// fmt.Println(greetings.Hello("CoderOfRat"))\n\tmessage, error := greetings.Hello("CoderOfRat")\n\n\tif error != nil {\n\t\t// \u6b64\u6253\u5370\u4f1a\u7ec8\u6b62\u7a0b\u5e8f\u5411\u4e0b\u8fd0\u884c Fatal is equivalent to [Print] followed by a call to os.Exit(1).\n\t\tlog.Fatal(error)\n\t}\n\n\t// \u6ca1\u6709\u9519\u8bef\uff0c\u6253\u5370message\u8fd4\u56de\u4fe1\u606f\n\tfmt.Println(message)\n}\n'})}),"\n",(0,r.jsx)(e.pre,{children:(0,r.jsx)(e.code,{className:"language-shell",children:"go run .\n# Hello world!\n# Don't communicate by sharing memory, share memory by communicating.\n# Hi, CoderOfRat. Welcome!\n"})}),"\n",(0,r.jsxs)(e.p,{children:["\u63a5\u4e0b\u6765\uff0c\u6211\u4eec\u5c06",(0,r.jsx)(e.code,{children:"greetings.Hello()"}),"\u65b9\u6cd5\u5185\u53c2\u6570\u4f20\u9012\u7a7a\u5b57\u7b26\u4e32\uff0c\u518d\u6b21\u6267\u884c\uff1a"]}),"\n",(0,r.jsx)(e.pre,{children:(0,r.jsx)(e.code,{className:"language-go",children:'message, error := greetings.Hello("")\n'})}),"\n",(0,r.jsx)(e.pre,{children:(0,r.jsx)(e.code,{className:"language-shell",children:"go run .\n# Hello world!\n# Don't communicate by sharing memory, share memory by communicating.\n# greetings:empty name provided\n# exit status 1\n"})}),"\n",(0,r.jsx)(e.p,{children:"\u6b64\u65f6\u6267\u884c\u5230\u6b64\u65b9\u6cd5\u65f6\uff0c\u540e\u7eed\u4ee3\u7801\u5bf9\u5f02\u5e38\u60c5\u51b5\u8fdb\u884c\u4e86\u6253\u5370\u5e76\u7ec8\u6b62\u5f53\u524d\u7a0b\u5e8f\u7684\u5904\u7406\u3002"}),"\n",(0,r.jsx)(e.p,{children:(0,r.jsx)(e.em,{children:"\u5b8c\u6210\u8be5\u5c0f\u7ed3\uff0c\u6211\u4eec\u9519\u7565\u4e86\u89e3\u4e86\u7b80\u5355\u7684\u9519\u8bef\u5904\u7406\u65b9\u5f0f\uff0c\u63a5\u4e0b\u6765\u6211\u4eec\u8981\u901a\u8fc7\u5207\u7247\uff08slice\uff09\u5b8c\u5584\u4e0a\u8ff0greetings\u6a21\u5757\uff0c\n\u4f7f\u4e4b\u53ef\u4ee5\u8fd4\u56de\u4e00\u4e2a\u968f\u673a\u7684greeting\u5b57\u4e32"})}),"\n",(0,r.jsx)(e.h4,{id:"43-\u5229\u7528\u5207\u7247slice\u5b9e\u73b0\u968f\u673a\u6253\u5370\u6b22\u8fce\u8bed",children:"4.3 \u5229\u7528\u5207\u7247\uff08slice\uff09\uff0c\u5b9e\u73b0\u968f\u673a\u6253\u5370\u6b22\u8fce\u8bed"}),"\n",(0,r.jsxs)(e.blockquote,{children:["\n",(0,r.jsx)(e.p,{children:"\u5207\u7247\u7c7b\u4f3c\u4e8e\u6570\u7ec4\uff0c\u4e0d\u540c\u4e4b\u5904\u5728\u4e8e\u5176\u5927\u5c0f\u4f1a\u968f\u7740\u60a8\u6dfb\u52a0\u548c\u5220\u9664\u9879\u76ee\u800c\u52a8\u6001\u53d8\u5316\u3002\u5207\u7247\u662f Go \u4e2d\u6700\u6709\u7528\u7684\u7c7b\u578b\u4e4b\u4e00\u3002"}),"\n"]}),"\n",(0,r.jsxs)(e.p,{children:["\u8fdb\u4e00\u6b65\u4fee\u6539",(0,r.jsx)(e.code,{children:"greetings/greetings.go"}),"\u4e2d\u7684\u4ee3\u7801\uff1a"]}),"\n",(0,r.jsx)(e.pre,{children:(0,r.jsx)(e.code,{className:"language-go",children:'package greetings\n\nimport (\n\t"errors"\n\t"fmt"\n\n\t"math/rand"\n)\n\n// Hello returns a greeting for the named person.\nfunc Hello(name string) (string, error) {\n\t// \u5982\u679cnames\u8f93\u5165\u4e3a\u7a7a\u5b57\u7b26\u4e32\uff0c\u5219\u8fd4\u56de\u7a7a\u5b57\u7b26\u4e32\uff0c\u629b\u51fa\u5f02\u5e38\u4fe1\u606f(\u5f02\u5e38\u4fe1\u606f\u5f00\u5934\u9996\u5b57\u6bcd\u4e0d\u5141\u8bb8\u5927\u5199)\n\tif name == "" {\n\t\treturn name, errors.New("empty name provided")\n\t}\n\t// Return a greeting that embeds the name in a message.\n\tmessage := fmt.Sprintf(getRandomGreetingsFormat(), name)\n\n\treturn message, nil\n}\n// go\u4e2d\u7684func \u4e0d\u652f\u6301\u5d4c\u5957\u5199\u6cd5\nfunc getRandomGreetingsFormat() string {\n    // []string \u7701\u7565\u4e86\u957f\u5ea6\u5b9a\u4e49\uff0c\u4ee3\u8868\u662f\u53ef\u53d8\u957f\u5ea6\u7684\u5207\u7247\n\tgreetingsArr := []string{\n\t\t"Hello, %v. Welcome!",\n\t\t"\u4f60\u597d\uff01 \u6b22\u8fce\u4f60\uff1a%v",\n\t\t"Hi, %v. I am glad to see you here!",\n\t}\n\n\treturn greetingsArr[rand.Intn(len(greetingsArr))]\n}\n'})}),"\n",(0,r.jsxs)(e.p,{children:["\u4fee\u6539",(0,r.jsx)(e.code,{children:"hello.go"}),"\uff0c\u6587\u4ef6\u4e2d\u7684message\u8d4b\u503c\u884c"]}),"\n",(0,r.jsx)(e.pre,{children:(0,r.jsx)(e.code,{className:"language-go",children:'message, error := greetings.Hello("CoderOfrat")\n'})}),"\n",(0,r.jsxs)(e.p,{children:["\u5728hello\u76ee\u5f55\uff0c\u591a\u6b21\u6267\u884c",(0,r.jsx)(e.code,{children:"go run ."}),"\uff0c\u5f97\u5230\u5982\u4e0b\u7ed3\u679c\uff1a"]}),"\n",(0,r.jsx)(e.p,{children:(0,r.jsx)(e.img,{alt:"go run .",src:s(9613).A+"",width:"930",height:"991"})}),"\n",(0,r.jsx)(e.p,{children:"\u7531\u4e8e\u6253\u5370\u662f\u968f\u673a\u7684\uff0c\u6240\u4ee5\u7ed3\u679c\u4f1a\u6709\u6240\u4e0d\u540c\u3002"}),"\n",(0,r.jsx)(e.p,{children:(0,r.jsxs)(e.em,{children:["\u5b8c\u6210\u4e0a\u8ff0\u5185\u5bb9\uff0c\u521d\u6b65\u4e86\u89e3\u4e86\u5207\u7247\u7684\u7528\u6cd5\uff0c\u4ee5\u53ca\u5982\u4f55\u914d\u5408",(0,r.jsx)(e.code,{children:"math/rand"}),"\u6a21\u5757\u63d0\u4f9b\u7684\u968f\u673a\u53d6\u6570\u65b9\u6cd5\uff0c\u5b8c\u6210\u968f\u673a\u8f93\u51fa\u7684\u903b\u8f91\uff0c\n\u63a5\u4e0b\u6765\uff0c\u5c06\u8fdb\u4e00\u6b65\u5229\u7528\u5207\u7247\uff0c\u5b8c\u6210\u9488\u5bf9\u591a\u4eba\u6253\u62db\u547c\u7684\u529f\u80fd\uff0clet go on ~"]})}),"\n",(0,r.jsx)(e.h4,{id:"44-\u591a\u4eba\u6253\u62db\u547c\u7a0b\u5e8f",children:"4.4 \u591a\u4eba\u6253\u62db\u547c\u7a0b\u5e8f"}),"\n",(0,r.jsxs)(e.blockquote,{children:["\n",(0,r.jsx)(e.p,{children:"\u4e3a\u4e86\u5f00\u53d1\u6d41\u7a0b\u7684\u89c4\u8303\u6027\uff0c\u4e00\u822c\u6211\u4eec\u5982\u679c\u7a33\u5b9a\u63d0\u4f9b\u4e86\u67d0\u4e2a\u529f\u80fd\uff08func\uff09,\u5e76\u4e14\u53d1\u5e03\u88ab\u522b\u4eba\u4f7f\u7528\u4e86\uff0c\n\u90a3\u4e48\u6211\u4eec\u59cb\u7ec8\u5728\u4e00\u4e2afunc\u4e0a\u8fdb\u884c\u5b9e\u73b0\u548c\u6269\u5c55\uff0c\u5c06\u7ed9\u4f7f\u7528\u8005\u5e26\u6765\u707e\u96be\u6027\u7684\u95ee\u9898\uff0c\u56e0\u6b64\uff0c\u5982\u679c\u65b0\u5f00\u53d1\u7684\u529f\u80fd\u4e0d\u662f\u6e10\u8fdb\u5f0f\u8865\u5145\u7684\uff0c\n\u800c\u662f\u65b0\u7684\u51fa\u5165\u53c2\u3001\u6838\u5fc3\u903b\u8f91\u7b49\uff0c\u90a3\u5c31\u8981\u8003\u8651\u65b0\u5efa\u65b9\u6cd5\u4e86(\u53ef\u4ee5\u590d\u7528\u540c\u5305\u7684\u903b\u8f91)\u3002"}),"\n"]}),"\n",(0,r.jsx)(e.admonition,{title:"\u6587\u4ef6",type:"note",children:(0,r.jsx)(e.p,{children:"greetings.go"})}),"\n",(0,r.jsx)(e.pre,{children:(0,r.jsx)(e.code,{className:"language-go",children:'package greetings\n\nimport (\n\t"errors"\n\t"fmt"\n\t"log"\n\n\t"math/rand"\n)\n\n// Hello returns a greeting for the named person.\nfunc Hello(name string) (string, error) {\n\t// \u5982\u679cnames\u8f93\u5165\u4e3a\u7a7a\u5b57\u7b26\u4e32\uff0c\u5219\u8fd4\u56de\u7a7a\u5b57\u7b26\u4e32\uff0c\u629b\u51fa\u5f02\u5e38\u4fe1\u606f(\u5f02\u5e38\u4fe1\u606f\u5f00\u5934\u9996\u5b57\u6bcd\u4e0d\u5141\u8bb8\u5927\u5199)\n\tif name == "" {\n\t\treturn name, errors.New("empty name provided")\n\t}\n\t// Return a greeting that embeds the name in a message.\n\tmessage := fmt.Sprintf(getRandomGreetingsFormat(), name)\n\n\treturn message, nil\n}\n\nfunc getRandomGreetingsFormat() string {\n\tgreetingsArr := []string{\n\t\t"Hello, %v. Welcome!",\n\t\t"\u4f60\u597d\uff01 \u6b22\u8fce\u4f60\uff1a%v",\n\t\t"Hi, %v. I am glad to see you here!",\n\t}\n\n\treturn greetingsArr[rand.Intn(len(greetingsArr))]\n}\n\nfunc Greetings(names []string) (map[string]string, error) {\n\tmessages := make(map[string]string, len(names))\n\tif len(names) == 0 {\n\t\treturn messages, errors.New("none name provide")\n\t}\n\t// \u5faa\u73af\u904d\u5386\u51fd\u6570\u6536\u5230\u7684\u540d\u79f0\uff0c\u68c0\u67e5\u6bcf\u4e2a\u540d\u79f0\u662f\u5426\u5177\u6709\u975e\u7a7a\u503c\uff0c\u7136\u540e\u5c06\u6d88\u606f\u4e0e\u6bcf\u4e2a\u540d\u79f0\u5173\u8054\u8d77\u6765\u3002\n\t// \u5728\u6b64 for \u5faa\u73af\u4e2d\uff0crange \u8fd4\u56de\u4e24\u4e2a\u503c\uff1a\u5faa\u73af\u4e2d\u5f53\u524d\u9879\u7684\u7d22\u5f15\u548c\u9879\u503c\u7684\u526f\u672c\n\t// \u60a8\u4e0d\u9700\u8981\u7d22\u5f15\uff0c\u56e0\u6b64\u53ef\u4ee5\u4f7f\u7528 Go \u7a7a\u767d\u6807\u8bc6\u7b26\uff08\u4e0b\u5212\u7ebf\uff09\u6765\u5ffd\u7565\u5b83\u3002\n\tfor _, name := range names {\n\t\tmessage, err := Hello(name)\n\n\t\tif err != nil {\n\t\t\tlog.Fatal(err)\n\t\t}\n\n\t\tmessages[name] = message\n\t}\n\n\treturn messages, nil\n}\n'})}),"\n",(0,r.jsx)(e.p,{children:"::: note[\u6587\u4ef6]\nhello.go\n:::"}),"\n",(0,r.jsx)(e.pre,{children:(0,r.jsx)(e.code,{className:"language-go",children:'package main\n\nimport (\n\t"fmt"\n\t"log"\n\n\t"rsc.io/quote/v4"\n\n\t"example.com/greetings"\n)\n\nfunc main() {\n\t// Set properties of the predefined Logger, including\n\t// the log entry prefix and a flag to disable printing\n\t// the time, source file, and line number.\n\tlog.SetPrefix("greetings:")\n\tlog.SetFlags(0)\n\n\tfmt.Println("Hello world!")\n\n\tfmt.Println(quote.Go())\n\n\t// fmt.Println(greetings.Hello("CoderOfRat"))\n\tmessage, error := greetings.Hello("CoderOfrat")\n\n\tif error != nil {\n\t\t// \u6b64\u6253\u5370\u4f1a\u7ec8\u6b62\u7a0b\u5e8f\u5411\u4e0b\u8fd0\u884c Fatal is equivalent to [Print] followed by a call to os.Exit(1).\n\t\tlog.Fatal(error)\n\t}\n\n\t// \u6ca1\u6709\u9519\u8bef\uff0c\u6253\u5370message\u8fd4\u56de\u4fe1\u606f\n\tfmt.Println(message)\n\n\tmessages, err := greetings.Greetings([]string{\n\t\t"Rat",\n\t\t"Alice",\n\t\t"Goli",\n\t})\n\n\tif err != nil {\n\t\tlog.Fatalln(err)\n\t}\n\n\tfmt.Println(messages)\n}\n'})}),"\n",(0,r.jsxs)(e.p,{children:["\u4e0a\u8ff0\u4ee3\u7801\uff0c\u6211\u4eec\u66f4\u6539\u4e86\u5165\u53c2\u548c\u8fd4\u53c2\uff0c\u901a\u8fc7\u5207\u7247\u4f20\u5165\u4e00\u7cfb\u5217\u4eba\u540d\uff0c\u7136\u540e\uff0c\u4f7f\u7528",(0,r.jsx)(e.code,{children:"for"}),"\u5173\u952e\u5b57\uff0c\u5faa\u73af\u4f7f\u7528\u4f20\u5165\u7684\u53c2\u6570\u8c03\u7528\u4e4b\u524d\u5b9a\u4e49\u7684Hello\u51fd\u6570\uff0c\u5e76\u5c06\u8fd4\u56de\u7ed3\u679c\u63a5\u6536\u5230\u4f7f\u7528",(0,r.jsx)(e.code,{children:"make"}),"\u5173\u952e\u5b57\u521b\u5efa\u7684string Map\uff08",(0,r.jsx)(e.code,{children:"map[string]string"}),"\uff09\u4e2d\u3002\u6700\u7ec8\u8fd4\u56de\u4ee5\u4eba\u540d\u4e3a\u952e\u3001\u4ee5\u6b22\u8fce\u8bed\u4e3a\u503c\u7684map\u3002\u5728 Go \u4e2d\uff0c\u60a8\u53ef\u4ee5\u4f7f\u7528\u4ee5\u4e0b\u8bed\u6cd5\u521d\u59cb\u5316\u6620\u5c04\uff1a",(0,r.jsx)(e.code,{children:"make(map[key-type]value-type)"}),"\u3002"]}),"\n",(0,r.jsxs)(e.p,{children:["\u672c\u4e3b\u9898\u4ecb\u7ecd\u4e86\u7528\u4e8e\u8868\u793a\u540d\u79f0/\u503c\u5bf9\u7684\u6620\u5c04\u3002\u8fd8\u4ecb\u7ecd\u4e86\u901a\u8fc7\u4e3a\u6a21\u5757\u4e2d\u7684\u65b0\u529f\u80fd\u6216\u66f4\u6539\u7684\u529f\u80fd\u5b9e\u73b0\u65b0\u51fd\u6570\u6765\u4fdd\u6301\u5411\u540e\u517c\u5bb9\u6027\u7684\u60f3\u6cd5\u3002",(0,r.jsx)(e.a,{href:"https://golang.google.cn/blog/module-compatibility",children:"\u4e86\u89e3\u66f4\u591ago\u7684\u5411\u540e\u517c\u5bb9\u5f00\u53d1\u6a21\u5f0f\u3002"})]}),"\n",(0,r.jsx)(e.p,{children:"\u63a5\u4e0b\u6765\uff0c\u6211\u4eec\u4f7f\u7528\u5185\u7f6e\u7684 Go \u529f\u80fd\u4e3a\u6b64\u6a21\u5757\u4ee3\u7801\u521b\u5efa\u5355\u5143\u6d4b\u8bd5\u3002"}),"\n",(0,r.jsx)(e.h4,{id:"45-\u6dfb\u52a0\u5355\u5143\u6d4b\u8bd5",children:"4.5 \u6dfb\u52a0\u5355\u5143\u6d4b\u8bd5"}),"\n",(0,r.jsxs)(e.blockquote,{children:["\n",(0,r.jsxs)(e.p,{children:["Go \u5185\u7f6e\u4e86\u5bf9\u5355\u5143\u6d4b\u8bd5\u7684\u652f\u6301\uff0c\u53ef\u4ee5\u66f4\u8f7b\u677e\u5730\u8fdb\u884c\u6d4b\u8bd5\u3002\u5177\u4f53\u6765\u8bf4\uff0c\u4f7f\u7528\u547d\u540d\u7ea6\u5b9a\u3001Go \u7684 ",(0,r.jsx)(e.code,{children:"testing package"})," \u548c ",(0,r.jsx)(e.code,{children:"go test"})," \u547d\u4ee4\uff0c\u53ef\u4ee5\u5feb\u901f\u7f16\u5199\u548c\u6267\u884c\u6d4b\u8bd5\u3002"]}),"\n"]}),"\n",(0,r.jsxs)(e.ul,{children:["\n",(0,r.jsxs)(e.li,{children:["\u5728greetings\u76ee\u5f55\u521b\u5efa",(0,r.jsx)(e.code,{children:"greetings_test.go"}),"\uff0c\u6587\u4ef6\u540d\u4ee5 ",(0,r.jsx)(e.code,{children:"_test.go"})," \u7ed3\u5c3e\uff0c\u544a\u8bc9\u4e86 ",(0,r.jsx)(e.code,{children:"go test"})," \u547d\u4ee4\u8be5\u6587\u4ef6\u5305\u542b\u6d4b\u8bd5\u51fd\u6570\u3002"]}),"\n"]}),"\n",(0,r.jsx)(e.p,{children:"\u5728greetings_test.go\u6587\u4ef6\u4e2d\u8f93\u5165\u4ee5\u4e0b\u4ee3\u7801\uff1a"}),"\n",(0,r.jsx)(e.pre,{children:(0,r.jsx)(e.code,{className:"language-go",children:'package greetings\n\nimport (\n    "testing"\n    "regexp"\n)\n\n// TestHelloName calls greetings.Hello with a name, checking\n// for a valid return value.\nfunc TestHelloName(t *testing.T) {\n    name := "Gladys"\n    want := regexp.MustCompile(`\\b`+name+`\\b`)\n    msg, err := Hello("Gladys")\n    if !want.MatchString(msg) || err != nil {\n        t.Errorf(`Hello("Gladys") = %q, %v, want match for %#q, nil`, msg, err, want)\n    }\n}\n\n// TestHelloEmpty calls greetings.Hello with an empty string,\n// checking for an error.\nfunc TestHelloEmpty(t *testing.T) {\n    msg, err := Hello("")\n    if msg != "" || err == nil {\n        t.Errorf(`Hello("") = %q, %v, want "", error`, msg, err)\n    }\n}\n'})}),"\n",(0,r.jsxs)(e.p,{children:["\u7136\u540e\u6267\u884c",(0,r.jsx)(e.code,{children:"go test"}),"\uff0c\u53ef\u4ee5\u53d1\u73b0\u6267\u884c\u6210\u529f\uff0c\u7ec8\u7aef\u6253\u5370\u5982\u4e0b\uff1a"]}),"\n",(0,r.jsx)(e.pre,{children:(0,r.jsx)(e.code,{className:"language-shell",children:"PASS\nok      example.com/greetings   0.521s\n"})}),"\n",(0,r.jsxs)(e.p,{children:[(0,r.jsx)(e.code,{children:"go test"})," \u547d\u4ee4\u6267\u884c\u6d4b\u8bd5\u6587\u4ef6\uff08\u540d\u79f0\u4ee5 _test.go \u7ed3\u5c3e\uff09\u4e2d\u7684\u6d4b\u8bd5\u51fd\u6570\uff08\u540d\u79f0\u4ee5 Test \u5f00\u5934\uff09\u3002\u53ef\u4ee5\u6dfb\u52a0 -v \u6807\u5fd7\u4ee5\u83b7\u53d6\u5217\u51fa\u6240\u6709\u6d4b\u8bd5\u53ca\u5176\u7ed3\u679c\u7684\u8be6\u7ec6\u8f93\u51fa\u3002"]}),"\n",(0,r.jsx)(e.pre,{children:(0,r.jsx)(e.code,{className:"language-shell",children:"go test -v\n// === RUN   TestHelloName\n// --- PASS: TestHelloName (0.00s)\n// === RUN   TestHelloEmpty\n// --- PASS: TestHelloEmpty (0.00s)\n// PASS\n// ok      example.com/greetings   0.063s\n"})}),"\n",(0,r.jsx)(e.p,{children:"\u63a5\u4e0b\u6765\uff0c\u6211\u4eec\u4fee\u6539greetings\u6a21\u5757\u4e2d\u7684Hello\u65b9\u6cd5\uff0c\u4f7f\u8fd4\u56de\u5185\u5bb9\uff0c\u4e0d\u5305\u542b\u6d4b\u8bd5\u5185\u5bb9\uff08!want.MatchString(msg)\uff09\uff0c\u5373\u4e0d\u7b26\u5408\u6761\u4ef6\u3002"}),"\n",(0,r.jsx)(e.pre,{children:(0,r.jsx)(e.code,{className:"language-go",children:'// Hello returns a greeting for the named person.\nfunc Hello(name string) (string, error) {\n\t// \u5982\u679cnames\u8f93\u5165\u4e3a\u7a7a\u5b57\u7b26\u4e32\uff0c\u5219\u8fd4\u56de\u7a7a\u5b57\u7b26\u4e32\uff0c\u629b\u51fa\u5f02\u5e38\u4fe1\u606f(\u5f02\u5e38\u4fe1\u606f\u5f00\u5934\u9996\u5b57\u6bcd\u4e0d\u5141\u8bb8\u5927\u5199)\n\tif name == "" {\n\t\treturn name, errors.New("empty name provided")\n\t}\n\t// Return a greeting that embeds the name in a message.\n\t// \u6ce8\u91ca\u4e86\u6b64\u884c\n\t// message := fmt.Sprintf(getRandomGreetingsFormat(), name)\n\t// \u65b0\u52a0\u4e0a\u6b64\u884c\n\tmessage := fmt.Sprint(getRandomGreetingsFormat())\n\treturn message, nil\n}\n'})}),"\n",(0,r.jsxs)(e.p,{children:["\u7136\u540e\u6211\u4eec\u53ef\u4ee5\u518d\u6b21\u6267\u884c",(0,r.jsx)(e.code,{children:"go test -v"}),"\uff0c\u53ef\u4ee5\u53d1\u73b0\u6d4b\u8bd5\u5185\u5bb9\u662f\u5426\u5305\u542b\u7684",(0,r.jsx)(e.code,{children:"TestHelloName"}),"\u5355\u5143\u6d4b\u8bd5\u4e0d\u901a\u8fc7\uff0c\u4f46\u662f\u6d4b\u8bd5\u7a7a\u8fd4\u56de\u7684\u6d4b\u8bd5\u5355\u5143\u53ef\u4ee5\u901a\u8fc7\u3002"]}),"\n",(0,r.jsx)(e.pre,{children:(0,r.jsx)(e.code,{className:"language-shell",children:'go test -v\n# === RUN   TestHelloName\n#     greetings_test.go:15: Hello("Gladys") = "\u4f60\u597d\uff01 \u6b22\u8fce\u4f60\uff1a%v", <nil>, want match for `\\bGladys\\b`, nil\n# --- FAIL: TestHelloName (0.00s)\n# === RUN   TestHelloEmpty\n# --- PASS: TestHelloEmpty (0.00s)\n# FAIL\n# exit status 1\n# FAIL    example.com/greetings   0.940s\n'})}),"\n",(0,r.jsx)(e.p,{children:"\u6dfb\u52a0\u826f\u597d\u7684\u5355\u5143\u6d4b\u8bd5\u4ee3\u7801\uff0c\u6709\u52a9\u4e8e\u63d0\u5347\u9884\u671f\u5b9e\u73b0\uff0c\u4f7f\u6211\u4eec\u7684\u6a21\u5757\u66f4\u5065\u58ee\u53ef\u7528\uff0c\u63a5\u4e0b\u6765\u53ef\u4ee5\u7f16\u8bd1\u751f\u6210\u53ef\u8fd0\u884c\u7a0b\u5e8f\u5566~"}),"\n",(0,r.jsx)(e.h4,{id:"46-\u7f16\u8bd1\u5b89\u88c5go\u4ee3\u7801",children:"4.6 \u7f16\u8bd1\u5b89\u88c5go\u4ee3\u7801"}),"\n",(0,r.jsxs)(e.p,{children:["\u5728\u6700\u540e\u4e00\u4e2a\u4e3b\u9898\u4e2d\uff0c\u60a8\u5c06\u5b66\u4e60\u51e0\u4e2a\u65b0\u7684 go \u547d\u4ee4\u3002\u867d\u7136",(0,r.jsx)(e.code,{children:"go run"})," \u547d\u4ee4\u662f\u60a8\u5728\u9891\u7e41\u66f4\u6539\u65f6\u7f16\u8bd1\u548c\u8fd0\u884c\u7a0b\u5e8f\u7684\u6709\u7528\u5feb\u6377\u65b9\u5f0f\uff0c\u4f46\u5b83\u4e0d\u4f1a\u751f\u6210\u4e8c\u8fdb\u5236\u53ef\u6267\u884c\u6587\u4ef6\u3002"]}),"\n",(0,r.jsx)(e.p,{children:"\u63a5\u4e0b\u6765\u6211\u4eec\u4f7f\u7528\u4e0b\u5217\u547d\u4ee4\uff0c\u8fdb\u884cgo\u4ee3\u7801\u7684\u7f16\u8bd1\u53ca\u5b89\u88c5\u3002"}),"\n",(0,r.jsxs)(e.ul,{children:["\n",(0,r.jsxs)(e.li,{children:[(0,r.jsx)(e.code,{children:"go build"})," \u547d\u4ee4\u4f1a\u7f16\u8bd1\u8f6f\u4ef6\u5305\u53ca\u5176\u4f9d\u8d56\u9879\uff0c\u4f46\u4e0d\u4f1a\u5b89\u88c5\u7ed3\u679c\u3002"]}),"\n",(0,r.jsxs)(e.li,{children:[(0,r.jsx)(e.code,{children:"go install"})," \u547d\u4ee4\u4f1a\u7f16\u8bd1\u5e76\u5b89\u88c5\u8f6f\u4ef6\u5305\u3002"]}),"\n"]}),"\n",(0,r.jsxs)(e.ol,{children:["\n",(0,r.jsx)(e.li,{children:"\u6062\u590d\u4e4b\u524d\u5728\u6d4b\u8bd5\u5355\u5143\u66f4\u6539\u7684\u5185\u5bb9\uff0c\u4fdd\u5b58\u540e\uff0c\u5728 hello \u76ee\u5f55\u4e2d\u7684\u547d\u4ee4\u884c\u4e2d\uff0c\u8fd0\u884c go build \u547d\u4ee4\u5c06\u4ee3\u7801\u7f16\u8bd1\u4e3a\u53ef\u6267\u884c\u6587\u4ef6\u3002"}),"\n"]}),"\n",(0,r.jsx)(e.pre,{children:(0,r.jsx)(e.code,{className:"language-shell",children:"go build\n"})}),"\n",(0,r.jsx)(e.p,{children:"\u6267\u884c\u540e\uff0c\u53ef\u4ee5\u5728\u540c\u7ea7\u76ee\u5f55\u751f\u6210hello.exe\u53ef\u6267\u884c\u6587\u4ef6\uff1a"}),"\n",(0,r.jsx)(e.p,{children:(0,r.jsx)(e.img,{alt:"go run build",src:s(3322).A+"",width:"1676",height:"749"})}),"\n",(0,r.jsxs)(e.p,{children:["\u7136\u540e\u5728\u547d\u4ee4\u884c\u7ee7\u7eed\u952e\u5165",(0,r.jsx)(e.code,{children:"hello"}),"\u6216\u8005",(0,r.jsx)(e.code,{children:"hello.exe"}),",\u5373\u53ef\u770b\u5230\u7a0b\u5e8f\u8f93\u51fa\uff1a"]}),"\n",(0,r.jsx)(e.p,{children:(0,r.jsx)(e.img,{alt:"hello",src:s(5064).A+"",width:"1311",height:"473"})}),"\n",(0,r.jsxs)(e.p,{children:["\u60a8\u5df2\u5c06\u5e94\u7528\u7a0b\u5e8f\u7f16\u8bd1\u4e3a\u53ef\u6267\u884c\u6587\u4ef6\uff0c\u56e0\u6b64\u53ef\u4ee5\u8fd0\u884c\u5b83\u3002\u4f46\u76ee\u524d\u8981\u8fd0\u884c\u5b83\uff0c\u60a8\u7684\u547d\u4ee4\u9700\u8981\u4f4d\u4e8e\u53ef\u6267\u884c\u6587\u4ef6\u7684\u76ee\u5f55\u4e2d\uff0c\u6216\u8005\u6307\u5b9a\u53ef\u6267\u884c\u6587\u4ef6\u7684\u8def\u5f84\u3002\u63a5\u4e0b\u6765\uff0c\u6211\u4eec\u53ef\u4ee5\u6267\u884c",(0,r.jsx)(e.code,{children:"go install"}),"\u5bf9\u6b64go\u7a0b\u5e8f\u8fdb\u884c\u5b89\u88c5\uff0c\u4ee5\u81f3\u4e8e\u53ef\u4ee5\u968f\u5904\u8fd0\u884c\u6b64\u7a0b\u5e8f\u3002\u9996\u5148\u6211\u4eec\u9700\u8981\u5148\u627e\u5230 Go \u5b89\u88c5\u8def\u5f84\uff0c",(0,r.jsx)(e.code,{children:"go install"})," \u547d\u4ee4\u5c06\u5728\u6b64\u5b89\u88c5\u5f53\u524d\u5305\u3002 \u53ef\u4ee5\u901a\u8fc7\u8fd0\u884c ",(0,r.jsx)(e.code,{children:"go list"})," \u547d\u4ee4\u6765\u627e\u5230\u5b89\u88c5\u8def\u5f84\uff0c\u5982\u4e0b\u4f8b\u6240\u793a\uff1a"]}),"\n",(0,r.jsx)(e.pre,{children:(0,r.jsx)(e.code,{className:"language-shell",children:"go list -f '{{.Target}}'\n# 'C:\\Users\\Rat\\go\\bin\\hello.exe'\n"})}),"\n",(0,r.jsxs)(e.p,{children:["\u8fd9\u4ee3\u8868",(0,r.jsx)(e.code,{children:"go install"}),"\u4f1a\u5c06hello\u7a0b\u5e8f\u5b89\u88c5\u5230",(0,r.jsx)(e.code,{children:"C:\\Users\\Rat\\go\\bin"}),"\u76ee\u5f55\u4e0b\uff0c\u4e5f\u5c31\u662f\u4e4b\u524d\u6211\u4eec\u8bf4\u7684 ",(0,r.jsx)(e.code,{children:"GOBIN"}),"=",(0,r.jsx)(e.code,{children:"%GOPATH%/bin"}),"\uff0c\u5982\u9700\u4fee\u6539\uff0c\u53ef\u6267\u884c\u547d\u4ee4",(0,r.jsx)(e.code,{children:"go env -w GOBIN=C:\\path\\to\\your\\new\\bin"}),"\uff0c\u4ee5\u4e0b\u8bbe\u7f6e\u4e3a\u914d\u7f6eGOBIN\u5230path\u73af\u5883\u53d8\u91cf\u4e2d\u3002"]}),"\n",(0,r.jsx)(e.pre,{children:(0,r.jsx)(e.code,{className:"language-shell",children:"export PATH=$PATH:/path/to/your/install/directory # linux\nset PATH=%PATH%;C:\\path\\to\\your\\install\\directory # win\n"})}),"\n",(0,r.jsxs)(e.p,{children:["\u5b8c\u6210\u4ee5\u4e0a\u914d\u7f6e\u540e\uff0c\u6267\u884c",(0,r.jsx)(e.code,{children:"go install"}),"\u4e4b\u540e,\u5373\u53ef\u5728\u7cfb\u7edf\u4efb\u610f\u76ee\u5f55\u8fdb\u884c\u6267\u884c ",(0,r.jsx)(e.code,{children:"hello"}),"\u547d\u4ee4\uff0c\u8fd0\u884c\u8be5\u7a0b\u5e8f\u3002"]}),"\n",(0,r.jsx)(e.p,{children:(0,r.jsx)(e.img,{alt:"\u73af\u5883\u53d8\u91cf",src:s(1968).A+"",width:"829",height:"797"})}),"\n",(0,r.jsx)(e.p,{children:(0,r.jsx)(e.img,{alt:"shell output",src:s(688).A+"",width:"1100",height:"261"})}),"\n",(0,r.jsx)(e.p,{children:(0,r.jsx)(e.img,{alt:"bin exe",src:s(3044).A+"",width:"1243",height:"798"})}),"\n",(0,r.jsx)(e.p,{children:"\u81f3\u6b64\uff0c\u5df2\u7ecf\u5b8c\u6210\u4e86\u5bf9go\u8bed\u8a00\u7684\u57fa\u672c\u4e86\u89e3\uff0c\u63a5\u4e0b\u6765\uff0c\u6211\u4eec\u9700\u8981\u8fdb\u4e00\u6b65\u4e86\u89e3\u5b9e\u9645\u5f00\u53d1\u8fc7\u7a0b\u4e2d\u7684\u5e38\u89c1\u95ee\u9898\u3002"}),"\n",(0,r.jsx)(e.h3,{id:"5-\u591a\u6a21\u5757\u5de5\u4f5c\u533amulti-module-workspaces",children:"5. \u591a\u6a21\u5757\u5de5\u4f5c\u533a\uff08multi-module workspaces\uff09"}),"\n",(0,r.jsx)(e.p,{children:"\u4f7f\u7528\u591a\u6a21\u5757\u5de5\u4f5c\u533a\uff0c\u6307\u660e\u4e86\u6211\u4eec\u5728\u591a\u4e2a\u6a21\u5757\u4e2d\u7f16\u5199\u4ee3\u7801\uff0c\u5e76go\u547d\u4ee4\u8f7b\u677e\u5730\u5728\u8fd9\u4e9b\u6a21\u5757\u4e2d\u6784\u5efa\u548c\u8fd0\u884c\u4ee3\u7801\u3002"}),"\n",(0,r.jsx)(e.h4,{id:"51-\u521b\u5efa\u591a\u6a21\u5757\u5de5\u4f5c\u76ee\u5f55",children:"5.1 \u521b\u5efa\u591a\u6a21\u5757\u5de5\u4f5c\u76ee\u5f55"}),"\n",(0,r.jsx)(e.p,{children:"\u6267\u884c\u5982\u4e0b\u547d\u4ee4\uff0c\u8fdb\u884c\u521d\u59cb\u5316\u9879\u76ee"}),"\n",(0,r.jsx)(e.pre,{children:(0,r.jsx)(e.code,{className:"language-shell",children:"cd \u4f60\u60f3\u8981\u521b\u5efa\u5de5\u4f5c\u76ee\u5f55\u7684\u6587\u4ef6\u5939\uff08dir where you want to create multi-module\uff09\nmkdir workspace\ncd workspace\nmkdir hello\ngo mod init github.com/CoderOfRat/hello\n# \u83b7\u53d6\u8fdc\u7a0b\u5df2\u53d1\u5e03\u7684\u6a21\u5757 \u672c\u8d28\u4e0ago mod tidy \u5305\u542b\u4e86\u6b64\u64cd\u4f5c\uff0c\u53ea\u662f\u4e00\u4e2a\u662f\u524d\u7f6e\u76f4\u63a5\u5148\u4e0b\u8f7d\u4f9d\u8d56\u518d\u5f15\u7528\uff0c\u4e00\u4e2a\u662f\u9879\u76ee\u4e2d\u5f15\u7528\uff0c\u518d\u5206\u6790\u4e0b\u8f7d\ngo get golang.org/x/example/hello/reverse\n"})}),"\n",(0,r.jsxs)(e.p,{children:["\u518dhello\u76ee\u5f55\u521b\u5efa",(0,r.jsx)(e.code,{children:"hello.go"}),"\u6587\u4ef6\uff0c\u5e76\u952e\u5165\u5982\u4e0b\u5185\u5bb9\uff1a"]}),"\n",(0,r.jsx)(e.pre,{children:(0,r.jsx)(e.code,{className:"language-go",children:'package main\n\nimport (\n    "fmt"\n\n    "golang.org/x/example/hello/reverse"\n)\n\nfunc main() {\n    fmt.Println(reverse.String("Hello"))\n}\n'})}),"\n",(0,r.jsx)(e.p,{children:"\u6267\u884c\u7ed3\u679c\u5982\u4e0b\uff1a"}),"\n",(0,r.jsx)(e.pre,{children:(0,r.jsx)(e.code,{className:"language-shell",children:"go run .\n# olleH\n"})}),"\n",(0,r.jsx)(e.p,{children:(0,r.jsxs)(e.strong,{children:["\u63a5\u4e0b\u6765\uff0c\u6211\u4eec\u5c06\u521b\u5efa\u4e00\u4e2a ",(0,r.jsx)(e.code,{children:"go.work"})," \u6587\u4ef6\u6765\u6307\u5b9a\u5e26\u6709\u6a21\u5757\u7684\u5de5\u4f5c\u533a\u3002"]})}),"\n",(0,r.jsxs)(e.ol,{children:["\n",(0,r.jsx)(e.li,{children:"\u521d\u59cb\u5316\u5de5\u4f5c\u533a\uff08initialize the workspace\uff09"}),"\n"]}),"\n",(0,r.jsx)(e.pre,{children:(0,r.jsx)(e.code,{className:"language-shell",children:"cd ..\ngo work init ./hello\n"})}),"\n",(0,r.jsxs)(e.blockquote,{children:["\n",(0,r.jsxs)(e.p,{children:[(0,r.jsx)(e.code,{children:"go work init"})," \u547d\u4ee4\u544a\u8bc9 go \u4e3a\u5305\u542b\u5728 ",(0,r.jsx)(e.code,{children:"./hello"})," \u76ee\u5f55\u4e2d\u7684\u6a21\u5757\u521b\u5efa\u4e00\u4e2a\u5de5\u4f5c\u533a\uff08\u5171\u4eab\uff09\u3002"]}),"\n"]}),"\n",(0,r.jsxs)(e.p,{children:["\u6b64\u65f6\u5728workspace\u76ee\u5f55\u751f\u6210\u4e86",(0,r.jsx)(e.code,{children:"go.work"}),"\u6587\u4ef6\uff0c",(0,r.jsx)(e.code,{children:"go.work"})," \u6587\u4ef6\u7684\u8bed\u6cd5\u4e0e ",(0,r.jsx)(e.code,{children:"go.mod"})," \u7c7b\u4f3c\uff0c\u5185\u5bb9\u5982\u4e0b\uff1a"]}),"\n",(0,r.jsx)(e.pre,{children:(0,r.jsx)(e.code,{className:"language-go",children:"go 1.24.0\n\nuse ./hello\n"})}),"\n",(0,r.jsxs)(e.blockquote,{children:["\n",(0,r.jsxs)(e.p,{children:["go \u6307\u4ee4\u544a\u8bc9 Go \u8be5\u6587\u4ef6\u5e94\u4f7f\u7528\u54ea\u4e2a\u7248\u672c\u7684 Go \u8fdb\u884c\u89e3\u91ca\u3002\u5b83\u7c7b\u4f3c\u4e8e ",(0,r.jsx)(e.code,{children:"go.mod"})," \u6587\u4ef6\u4e2d\u7684 ",(0,r.jsx)(e.code,{children:"go"})," \u6307\u4ee4\u3002 ",(0,r.jsx)(e.code,{children:"use"})," \u6307\u4ee4\u544a\u8bc9 Go\uff0c\u5728\u8fdb\u884c\u6784\u5efa\u65f6\uff0c",(0,r.jsx)(e.code,{children:"hello"})," \u76ee\u5f55\u4e2d\u7684\u6a21\u5757\u5e94\u8be5\u662f\u4e3b\u6a21\u5757\u3002\u56e0\u6b64\uff0c\u5728\u5de5\u4f5c\u533a\u7684\u4efb\u4f55\u5b50\u76ee\u5f55\u4e2d\uff0c\u8be5\u6a21\u5757\u90fd\u5c06\u5904\u4e8e\u751f\u6548\uff08\u53ef\u7528\uff09\u72b6\u6001\u3002\u7c7b\u4f3c\u4e8epnpm\u7b49\u5de5\u4f5c\u533a\u6982\u5ff5\u3002"]}),"\n"]}),"\n",(0,r.jsxs)(e.p,{children:["\u6b64\u65f6\uff0c\u6211\u4eec\u5728workspace\u76ee\u5f55\u6267\u884c",(0,r.jsx)(e.code,{children:"go run ./hello"}),"\uff1a"]}),"\n",(0,r.jsx)(e.pre,{children:(0,r.jsx)(e.code,{className:"language-shell",children:"go run ./hello\n# olleH\n"})}),"\n",(0,r.jsx)(e.p,{children:"\u4f9d\u7136\u53ef\u4ee5\u5b8c\u6210\u7a0b\u5e8f\u8fd0\u884c"}),"\n",(0,r.jsxs)(e.p,{children:["Go \u547d\u4ee4\u5c06\u4f4d\u4e8e\u5de5\u4f5c\u533a\u4e2d\u7684\u6240\u6709\u6a21\u5757\u90fd\u4f5c\u4e3a\u4e3b\u6a21\u5757\u3002\u8fd9\u6837\uff0c\u6211\u4eec\u5c31\u53ef\u4ee5\u5f15\u7528\u6a21\u5757\u4e2d\u7684\u5305\uff0c\u751a\u81f3\u5728\u6a21\u5757\u5916\u90e8\u4e5f\u53ef\u4ee5\u3002\u5728\u6a21\u5757\u6216\u5de5\u4f5c\u533a\u5916\u8fd0\u884c go run \u547d\u4ee4\u4f1a\u5bfc\u81f4\u9519\u8bef\uff0c\u56e0\u4e3a go \u547d\u4ee4\u4e0d\u77e5\u9053\u8981\u4f7f\u7528\u54ea\u4e2a\u6a21\u5757\uff0c\u5728\u5de5\u4f5c\u533a\u5185\u8fd0\u884c",(0,r.jsx)(e.code,{children:"go run"}),"\u547d\u4ee4\uff0c\u9700\u8981\u6307\u5b9a\u6a21\u5757\u76ee\u5f55\u3002"]}),"\n",(0,r.jsxs)(e.ol,{start:"2",children:["\n",(0,r.jsxs)(e.li,{children:["\u63a5\u4e0b\u6765\uff0c\u6211\u4eec\u62f7\u8d1d\u4e00\u4efd",(0,r.jsx)(e.code,{children:"golang.org/x/example"}),"\u8fdc\u7a0b\u5305\uff0c\u5e76\u5411",(0,r.jsx)(e.code,{children:"/hello/reverse"}),"\u6a21\u5757\u6dfb\u52a0\u4e00\u4e2a\u65b0\u65b9\u6cd5\uff0c\u4f7f\u4e4b\u652f\u6301\u6570\u503c\u53cd\u8f6c\uff1a"]}),"\n"]}),"\n",(0,r.jsx)(e.pre,{children:(0,r.jsx)(e.code,{className:"language-shell",children:"# \u5728workspace\u76ee\u5f55\u6267\u884c\ngit clone https://go.googlesource.com/example\n# \u514b\u9686\u6210\u529f\u540e\u6267\u884c\ngo work use ./example/hello\n"})}),"\n",(0,r.jsx)(e.p,{children:"\u6b64\u65f6\uff0c\u6211\u4eec\u514b\u9686\u7684\u5305\u4e5f\u88ab\u6dfb\u52a0\u5230\u4e86\u5de5\u4f5c\u533a\uff0c\u5de5\u4f5c\u533a\u6587\u4ef6\u5185\u5bb9\u6b64\u65f6\u4e3a\uff1a"}),"\n",(0,r.jsx)(e.pre,{children:(0,r.jsx)(e.code,{className:"language-go",children:"go 1.18\n\nuse (\n    ./hello\n    ./example/hello\n)\n"})}),"\n",(0,r.jsxs)(e.ol,{start:"3",children:["\n",(0,r.jsxs)(e.li,{children:["\u5728",(0,r.jsx)(e.code,{children:"hello/reverse"}),"\u76ee\u5f55\u4e0b\u65b0\u5efa\u6587\u4ef6",(0,r.jsx)(e.code,{children:"int.go"}),"\uff0c\u4ee3\u7801\u5982\u4e0b\uff1a"]}),"\n"]}),"\n",(0,r.jsx)(e.pre,{children:(0,r.jsx)(e.code,{className:"language-go",children:'package reverse\n\nimport "strconv"\n\n// Int returns the decimal reversal of the integer i.\nfunc Int(i int) int {\n    i, _ = strconv.Atoi(String(strconv.Itoa(i)))\n    return i\n}\n'})}),"\n",(0,r.jsxs)(e.ol,{start:"4",children:["\n",(0,r.jsxs)(e.li,{children:["\u4fee\u6539",(0,r.jsx)(e.code,{children:"hello.go"}),"\u4e2d\u7684\u4ee3\u7801\u5982\u4e0b\uff1a"]}),"\n"]}),"\n",(0,r.jsx)(e.pre,{children:(0,r.jsx)(e.code,{className:"language-go",children:'package main\n\nimport (\n\t"fmt"\n\n\t"golang.org/x/example/hello/reverse"\n)\n\nfunc main() {\n\tfmt.Println(reverse.String("Hello"), reverse.Int(23456))\n}\n'})}),"\n",(0,r.jsxs)(e.p,{children:["\u968f\u540e\u8fd0\u884c",(0,r.jsx)(e.code,{children:"go run ."}),"\uff0c\u5982\u679c\u5728workspace\u76ee\u5f55\uff0c\u53ef\u4ee5\u6267\u884c",(0,r.jsx)(e.code,{children:"go run ./hello"}),",\u7ed3\u679c\u5982\u4e0b\uff1a"]}),"\n",(0,r.jsx)(e.pre,{children:(0,r.jsx)(e.code,{className:"language-shell",children:"go run ./hello\n# olleH 65432\n"})}),"\n",(0,r.jsxs)(e.p,{children:["Go\u547d\u4ee4\u5728",(0,r.jsx)(e.code,{children:"go.work"}),"\u6587\u4ef6\u6307\u5b9a\u7684hello\u76ee\u5f55\u4e2d\u627e\u5230\u547d\u4ee4\u884c\u4e2d\u6307\u5b9a\u7684",(0,r.jsx)(e.code,{children:"github.com/CoderOfRat/hello"}),"\u6a21\u5757\uff0c\u540c\u6837\u4f7f\u7528",(0,r.jsx)(e.code,{children:"go.work"}),"\u6587\u4ef6\u89e3\u6790golang.org/x/example/hello/reverse\u7684\u5bfc\u5165\u3002"]}),"\n",(0,r.jsxs)(e.blockquote,{children:["\n",(0,r.jsxs)(e.p,{children:["\u56e0\u6b64\uff0c\u53ef\u4ee5\u4f7f\u7528 go.work \u6765\u4ee3\u66ff ",(0,r.jsx)(e.code,{children:"replace"}),"\u6307\u4ee4\uff08\u6b64\u6307\u4ee4\u4e4b\u524d\u57284.1\u7ae0\u8282\u63d0\u5230\u8fc7\uff09\u6765\u8de8\u591a\u4e2a\u6a21\u5757\u5de5\u4f5c\u3002\u8be5\u4f8b\u5b50\u4e2d\uff0c\u7531\u4e8e\u4e24\u4e2a\u6a21\u5757\u4f4d\u4e8e\u540c\u4e00\u4e2a\u5de5\u4f5c\u533a\uff0c\u56e0\u6b64\u53ef\u4ee5\u8f7b\u677e\u5730\u5728\u4e00\u4e2a\u6a21\u5757\u4e2d\u8fdb\u884c\u66f4\u6539\u5e76\u5728\u53e6\u4e00\u4e2a\u6a21\u5757\u4e2d\u4f7f\u7528\u5b83\u3002"]}),"\n"]}),"\n",(0,r.jsxs)(e.p,{children:["\u672a\u6765\uff0c\u6211\u4eec\u53ef\u4ee5\u53d1\u5e03\u6211\u4eec\u7684\u5305\uff0c\u5176\u4ed6\u9879\u76ee\u5f15\u7528\uff0c\u53ea\u9700\u8981\u901a\u8fc7",(0,r.jsx)(e.code,{children:"go get"}),"\u83b7\u53d6\uff0c\u4f5c\u4e3a\u5185\u90e8\u4f9d\u8d56\u4f7f\u7528\uff0c\u8fd9\u6837go\u547d\u4ee4\u5c31\u53ef\u4ee5\u6b63\u5e38\u89e3\u6790\u5de5\u4f5c\u533a\u4ee5\u5916\u7684\u6a21\u5757\u4e86\u3002"]}),"\n",(0,r.jsxs)(e.p,{children:["\u9664\u4e86\u6211\u4eec\u521a\u624d\u770b\u5230\u7684 ",(0,r.jsx)(e.code,{children:"go work init"})," \u4e4b\u5916\uff0cgo \u547d\u4ee4\u8fd8\u6709\u51e0\u4e2a\u7528\u4e8e\u5904\u7406\u5de5\u4f5c\u533a\u7684\u5b50\u547d\u4ee4\uff1a"]}),"\n",(0,r.jsxs)(e.ul,{children:["\n",(0,r.jsx)(e.li,{children:"go work use [-r] [dir] \u5982\u679c\u5b58\u5728\uff0c\u5219\u5411 dir \u7684 go.work \u6587\u4ef6\u6dfb\u52a0 use \u6307\u4ee4\uff0c\u5982\u679c\u53c2\u6570\u76ee\u5f55\u4e0d\u5b58\u5728\uff0c\u5219\u5220\u9664 use \u76ee\u5f55\u3002-r \u6807\u5fd7\u9012\u5f52\u68c0\u67e5 dir \u7684\u5b50\u76ee\u5f55\u3002"}),"\n",(0,r.jsx)(e.li,{children:"go work edit \u7f16\u8f91 go.work \u6587\u4ef6\uff0c\u7c7b\u4f3c go mod edit"}),"\n",(0,r.jsx)(e.li,{children:"go work sync \u5c06\u5de5\u4f5c\u533a\u6784\u5efa\u5217\u8868\u4e2d\u7684\u4f9d\u8d56\u9879\u540c\u6b65\u5230\u6bcf\u4e2a\u5de5\u4f5c\u533a\u6a21\u5757\u4e2d\u3002"}),"\n"]}),"\n",(0,r.jsx)(e.p,{children:"\u63a5\u4e0b\u6765\uff0c\u6211\u4eec\u5c06\u5b66\u4e60\u4f7f\u7528Gin\u6846\u67b6\u5f00\u53d1\u51e0\u4e2aRestful API"}),"\n",(0,r.jsx)(e.hr,{}),"\n",(0,r.jsx)(e.h3,{id:"6-\u4f7f\u7528go--gin\u6846\u67b6\u5b9e\u73b0restful-api",children:"6. \u4f7f\u7528Go + Gin\u6846\u67b6\uff0c\u5b9e\u73b0Restful API"}),"\n",(0,r.jsxs)(e.blockquote,{children:["\n",(0,r.jsxs)(e.p,{children:[(0,r.jsx)(e.a,{href:"https://gin-gonic.com/",children:"gin web framework"})," -- Go\u8bed\u8a00\u6700\u5feb\u7684\u5168\u529f\u80fdWeb\u6846\u67b6\u3002\u6676\u83b9\u5254\u900f\u3002"]}),"\n"]}),"\n",(0,r.jsx)(e.p,{children:"\u63a5\u4e0b\u6765\uff0c\u4f7f\u7528gin\u6846\u67b6\uff0c\u5b8c\u6210\u8ba2\u5355\u65b0\u589e\u3001\u67e5\u8be2\u529f\u80fd"}),"\n",(0,r.jsx)(e.h4,{id:"61-\u8bbe\u8ba1api\u7aef\u70b9",children:"6.1 \u8bbe\u8ba1API\u7aef\u70b9"}),"\n",(0,r.jsxs)(e.blockquote,{children:["\n",(0,r.jsxs)(e.p,{children:["\u200c\u5728\u8ba1\u7b97\u673a\u9886\u57df\uff0cEndpoints\u901a\u5e38\u88ab\u79f0\u4e3a\u201c\u7aef\u70b9\u201d\u6216\u201c\u7ec8\u7aef\u70b9\u201d\u3002",(0,r.jsx)("br",{}),"\n",(0,r.jsx)(e.strong,{children:"\u5b9a\u4e49\u548c\u529f\u80fd"})," ",(0,r.jsx)("br",{}),"\nEndpoints\u662f\u7f51\u7edc\u6216\u7cfb\u7edf\u4e2d\u7684\u4e00\u4e2a\u7279\u5b9a\u4f4d\u7f6e\u6216\u8282\u70b9\uff0c\u53ef\u4ee5\u662f\u7f51\u7edc\u901a\u4fe1\u7684\u8d77\u70b9\u6216\u7ec8\u70b9\u3002\u5b83\u4eec\u901a\u8fc7\u552f\u4e00\u7684\u6807\u8bc6\u7b26\uff08\u5982URL\u3001IP\u5730\u5740\u6216\u5176\u4ed6\u534f\u8bae\u6807\u8bc6\uff09\u6765\u533a\u5206\u548c\u8bc6\u522b\u3002Endpoints\u5728\u6570\u636e\u4f20\u8f93\u548c\u901a\u4fe1\u4e2d\u8d77\u7740\u5173\u952e\u4f5c\u7528\uff0c\u8d1f\u8d23\u63a5\u6536\u548c\u53d1\u9001\u6570\u636e\uff0c\u5e76\u901a\u8fc7\u4e0d\u540c\u7684\u534f\u8bae\u548c\u901a\u4fe1\u65b9\u5f0f\u4e0e\u5176\u4ed6\u8bbe\u5907\u6216\u7cfb\u7edf\u8fdb\u884c\u4ea4\u4e92\u3002\u6b64\u5916\uff0cEndpoints\u8fd8\u7528\u4e8e\u5b9e\u73b0\u8bbf\u95ee\u63a7\u5236\u548c\u6743\u9650\u7ba1\u7406\uff0c\u786e\u4fdd\u7cfb\u7edf\u7684\u5b89\u5168\u6027\u200c\u3002",(0,r.jsx)("br",{}),"\n",(0,r.jsx)(e.strong,{children:"\u5e94\u7528\u573a\u666f"}),(0,r.jsx)("br",{}),"\nEndpoints\u5e7f\u6cdb\u5e94\u7528\u4e8e\u5404\u4e2a\u9886\u57df\u548c\u884c\u4e1a\u4e2d\uff0c\u5305\u62ec\uff1a",(0,r.jsx)("br",{})]}),"\n"]}),"\n",(0,r.jsxs)(e.ul,{children:["\n",(0,r.jsx)(e.li,{children:"\u200c\u7f51\u7edc\u901a\u4fe1\u200c\uff1a\u5728\u7f51\u7edc\u8bbe\u5907\u548c\u8282\u70b9\u4e2d\uff0cEndpoints\u8d1f\u8d23\u63a5\u6536\u3001\u8f6c\u53d1\u548c\u53d1\u9001\u6570\u636e\u5305\uff0c\u5b9e\u73b0\u7f51\u7edc\u901a\u4fe1\u529f\u80fd\u200c\u3002"}),"\n",(0,r.jsxs)(e.li,{children:["\u200cWeb\u670d\u52a1\u548cAPI\u200c\uff1aEndpoints\u4ee5\u7279\u5b9a\u7684URL\u5f62\u5f0f\u63d0\u4f9b\u670d\u52a1\uff0c\u5f00\u53d1\u8005\u901a\u8fc7\u8bbf\u95ee\u8fd9\u4e9bEndpoints\u6765\u83b7\u53d6\u670d\u52a1\u6216\u6267\u884c\u64cd\u4f5c\u200c\u3002\n\u200c- \u5fae\u670d\u52a1\u67b6\u6784\u200c\uff1a\u5728\u5fae\u670d\u52a1\u67b6\u6784\u4e2d\uff0c\u6bcf\u4e2a\u5fae\u670d\u52a1\u90fd\u4f5c\u4e3a\u4e00\u4e2a\u72ec\u7acb\u7684Endpoint\uff0c\u63d0\u4f9b\u7279\u5b9a\u7684\u529f\u80fd\u548c\u670d\u52a1\u200c\u3002",(0,r.jsx)("br",{}),"\n",(0,r.jsx)(e.strong,{children:"\u5177\u4f53\u5b9e\u4f8b"}),(0,r.jsx)("br",{}),"\n\u5728Spring Boot\u6846\u67b6\u4e2d\uff0cEndpoints\u662f\u5e94\u7528\u7a0b\u5e8f\u63d0\u4f9b\u7684\u4e00\u79cd\u529f\u80fd\u6216\u670d\u52a1\uff0c\u53ef\u4ee5\u901a\u8fc7\u7f51\u7edc\u8bbf\u95ee\u3002Spring Boot\u63d0\u4f9b\u4e86\u591a\u79cd\u5185\u7f6e\u7684Endpoints\uff0c\u5982/health\u3001/info\u3001/metrics\u7b49\uff0c\u7528\u4e8e\u76d1\u63a7\u548c\u7ba1\u7406\u5e94\u7528\u7a0b\u5e8f\u7684\u5065\u5eb7\u72b6\u51b5\u3001\u6027\u80fd\u6307\u6807\u548c\u73af\u5883\u53d8\u91cf\u7b49\u4fe1\u606f\u3002\u8fd9\u4e9b\u5185\u7f6eEndpoints\u53ef\u4ee5\u901a\u8fc7\u914d\u7f6e\u6587\u4ef6\u8fdb\u884c\u81ea\u5b9a\u4e49\u548c\u6269\u5c55\uff0c\u5f00\u53d1\u4eba\u5458\u8fd8\u53ef\u4ee5\u521b\u5efa\u81ea\u5b9a\u4e49Endpoints\u4ee5\u63d0\u4f9b\u66f4\u591a\u7684\u529f\u80fd\u548c\u670d\u52a1\u200c\u3002"]}),"\n"]}),"\n",(0,r.jsx)(e.p,{children:"\u597d\u7684\u7aef\u70b9\u8bbe\u8ba1\uff0c\u66f4\u6613\u4e8e\u4f7f\u7528\u8005\u7406\u89e3\uff0c\u672c\u6b21\u793a\u4f8b\u5305\u542b\u4e24\u4e2a\u7aef\u70b9\uff1a"}),"\n",(0,r.jsxs)(e.ol,{children:["\n",(0,r.jsxs)(e.li,{children:["\n",(0,r.jsx)(e.p,{children:"/albums"}),"\n",(0,r.jsxs)(e.ul,{children:["\n",(0,r.jsx)(e.li,{children:"GET \u83b7\u53d6 albums \u5217\u8868\u4fe1\u606f\uff0c\u5e76\u4ee5JSON\u683c\u5f0f\u54cd\u5e94"}),"\n",(0,r.jsx)(e.li,{children:"POST \u4ee5\u8bf7\u6c42\u7684JSON\u5165\u53c2\uff0c\u65b0\u589e\u4e00\u4e2a albums"}),"\n"]}),"\n"]}),"\n",(0,r.jsxs)(e.li,{children:["\n",(0,r.jsxs)(e.p,{children:["/albums",":id"]}),"\n",(0,r.jsxs)(e.ul,{children:["\n",(0,r.jsx)(e.li,{children:"GET \u83b7\u53d6\u6307\u5b9aid\u7684 album\uff0c\u5e76\u54cd\u5e94\u8fd4\u56de\u8be5 album \u7684JSON"}),"\n"]}),"\n"]}),"\n"]}),"\n",(0,r.jsx)(e.h4,{id:"62-\u521d\u59cb\u5316\u9879\u76ee",children:"6.2 \u521d\u59cb\u5316\u9879\u76ee"}),"\n",(0,r.jsx)(e.pre,{children:(0,r.jsx)(e.code,{className:"language-shell",children:"mkdir web-service-gin\n\ncd web-service-gin\n\ngo mod init github.com/coderofrat/web-service-gin\n"})}),"\n",(0,r.jsx)(e.h4,{id:"63-\u521b\u5efa\u6570\u636e\u7ed3\u6784",children:"6.3 \u521b\u5efa\u6570\u636e\u7ed3\u6784"}),"\n",(0,r.jsxs)(e.p,{children:["\u5728\u9879\u76ee\u76ee\u5f55\u65b0\u5efa",(0,r.jsx)(e.code,{children:"main.go"}),"\u6587\u4ef6\uff0c\u952e\u5165\u5982\u4e0b\u4ee3\u7801\uff1a"]}),"\n",(0,r.jsx)(e.pre,{children:(0,r.jsx)(e.code,{className:"language-go",children:'package main\n// \u5b9a\u4e49 album \u7ed3\u6784\uff0c\u7528\u4e8e\u5728\u5185\u5b58\u5b58\u50a8 album \u6570\u636e\n// album represents data about a record album.\ntype album struct {\n    ID     string  `json:"id"`\n    Title  string  `json:"title"`\n    Artist string  `json:"artist"`\n    Price  float64 `json:"price"`\n}\n// \u7ed3\u6784\u6807\u8bb0\uff08\u4f8b\u5982 `json:"artist"`\uff09\u6307\u5b9a\u5728\u5c06\u7ed3\u6784\u7684\u5185\u5bb9\u5e8f\u5217\u5316\u4e3a JSON \u65f6\u5b57\u6bb5\u7684\u540d\u79f0\u5e94\u4e3a\u4ec0\u4e48\u3002\n// \u5982\u679c\u6ca1\u6709\u8fd9\u4e9b\u6807\u8bb0\uff0cJSON \u5c06\u4f7f\u7528\u7ed3\u6784\u7684\u5927\u5199\u5b57\u6bb5\u540d\u79f0 - \u8fd9\u79cd\u6837\u5f0f\u5728 JSON \u4e2d\u5e76\u4e0d\u5e38\u89c1\u3002(\u56e0\u6b64\u8fd9\u5f88\u5fc5\u8981)\n\n// albums slice to seed record album data.\nvar albums = []album{\n    {ID: "1", Title: "Blue Train", Artist: "John Coltrane", Price: 56.99},\n    {ID: "2", Title: "Jeru", Artist: "Gerry Mulligan", Price: 17.99},\n    {ID: "3", Title: "Sarah Vaughan and Clifford Brown", Artist: "Sarah Vaughan", Price: 39.99},\n}\n'})}),"\n",(0,r.jsx)(e.h4,{id:"64-\u7aef\u70b9\u4ee3\u7801\u5b9e\u73b0",children:"6.4 \u7aef\u70b9\u4ee3\u7801\u5b9e\u73b0"}),"\n",(0,r.jsx)(e.h5,{id:"641-\u7f16\u5199\u4e00\u4e2a\u5904\u7406\u7a0b\u5e8fhandler\u6765\u8fd4\u56de\u6240\u6709\u9879\u76ee",children:"6.4.1 \u7f16\u5199\u4e00\u4e2a\u5904\u7406\u7a0b\u5e8f\uff08handler\uff09\u6765\u8fd4\u56de\u6240\u6709\u9879\u76ee"}),"\n",(0,r.jsx)(e.p,{children:"\u5728\u6b64\u4e4b\u524d\uff0c\u6211\u4eec\u53ef\u4ee5\u8bbf\u95eegin\u5b98\u7f51\uff0c\u5148\u4e0b\u8f7dgin\uff1a"}),"\n",(0,r.jsx)(e.pre,{children:(0,r.jsx)(e.code,{className:"language-shell",children:"go get -u github.com/gin-gonic/gin\n"})}),"\n",(0,r.jsx)(e.pre,{children:(0,r.jsx)(e.code,{className:"language-go",children:'package main\n\nimport (\n    "net/http"\n\n    "github.com/gin-gonic/gin"\n)\n\n// album represents data about a record album.\ntype album struct {\n    ID     string  `json:"id"`\n    Title  string  `json:"title"`\n    Artist string  `json:"artist"`\n    Price  float64 `json:"price"`\n}\n\n// albums slice to seed record album data.\nvar albums = []album{\n    {ID: "1", Title: "Blue Train", Artist: "John Coltrane", Price: 56.99},\n    {ID: "2", Title: "Jeru", Artist: "Gerry Mulligan", Price: 17.99},\n    {ID: "3", Title: "Sarah Vaughan and Clifford Brown", Artist: "Sarah Vaughan", Price: 39.99},\n}\n\nfunc main() {\n\t// \u4f7f\u7528 gin.Default() \u8fdb\u884c Gin \u8def\u7531\u521d\u59cb\u5316\n    router := gin.Default()\n\t// \u4f7f\u7528GET\u51fd\u6570\uff0c\u5efa\u7acb\u4e00\u4e2a\u5173\u8054\uff0c /albums \u7aef\u70b9\u8def\u5f84\u5c06\u4f7f\u7528 getAlbums \u5904\u7406\u7a0b\u5e8f\u8fdb\u884c\u8bf7\u6c42\u7684\u5904\u7406\u3002\n\t// \u8bf7\u6ce8\u610f\uff0c\u6211\u4eec\u4f20\u9012\u7684\u662f getAlbums \u51fd\u6570\u7684\u540d\u79f0\u3002\n\t// \u8fd9\u4e0e\u4f20\u9012\u51fd\u6570\u7ed3\u679c\u4e0d\u540c\uff0c\u4f20\u9012\u51fd\u6570\u7ed3\u679c\u65f6\uff0c\u60a8\u9700\u8981\u4f20\u9012 getAlbums()\uff08\u8bf7\u6ce8\u610f\u62ec\u53f7\uff09\u3002\n\n    router.GET("/albums", getAlbums)\n    router.GET("/albums/:id", getAlbumByID)\n    router.POST("/albums", postAlbums)\n\t// \u4f7f\u7528 Run \u51fd\u6570\u5c06\u8def\u7531\u6ce8\u518c\uff08\u9644\u52a0\uff09\u5230 http.Server \u5e76\u542f\u52a8\u670d\u52a1\u5668\u3002\n    router.Run("localhost:8080")\n}\n\n// getAlbums responds with the list of all albums as JSON.\n// \u6b64\u51fd\u6570\u63a5\u6536 gin.Context \u53c2\u6570\uff0cgin.Context \u662fGin\u6846\u67b6\u4e2d\u81f3\u5173\u91cd\u8981\u7684\u90e8\u5206\u3002\n// \u5b83\u5305\u542b\u8bf7\u6c42\u8be6\u7ec6\u4fe1\u606f\u3001\u9a8c\u8bc1\u548c\u5e8f\u5217\u5316 JSON \u7b49\u3002\n// \uff08\u5c3d\u7ba1\u540d\u79f0\u76f8\u4f3c\uff0c\u4f46\u8fd9\u4e0e Go \u7684\u5185\u7f6e context \u5305\u4e0d\u540c\u3002\uff09\nfunc getAlbums(c *gin.Context) {\n\t// \u8c03\u7528 Context.IndentJSON \u53ef\u4ee5\u5e8f\u5217\u5316 albums struct\uff08\u7ed3\u6784\u4f53\uff09\u4e3aJSON\uff0c\u5e76\u6dfb\u52a0\u5230\u54cd\u5e94\u4e2d\u3002\n\t// \u8be5\u65b9\u6cd5\u7684\u7b2c\u4e00\u4e2a\u53c2\u6570\u662f HTTP \u72b6\u6001\u7801\uff0c\u7528\u6765\u8868\u793a\u53d1\u9001\u81f3\u5ba2\u6237\u7aef\u7684\u72b6\u6001\uff0cnet/http \u5305\u4e2d\u7684 http.StatusOK\u4ee3\u8868 200 \u72b6\u6001\u7801\n\t// \u6211\u4eec\u4e5f\u53ef\u4ee5\u4f7f\u7528 Context.JSON \u65b9\u6cd5\u66ff\u4ee3 Context.IndentJSON\uff0c\u4ee5\u53d1\u9001\u66f4\u7d27\u51d1\u7684JSON\u3002\n\t// \u5b9e\u9645\u4e0a\uff0c\u7f29\u8fdb\u5f62\u5f0f\u5728\u8c03\u8bd5\u65f6\u66f4\u5bb9\u6613\u4f7f\u7528\uff0c\u5e76\u4e14\u54cd\u5e94\u7684\u5b9e\u9645\u5927\u5c0f\u5dee\u5f02\u5f88\u5c0f\n    c.IndentedJSON(http.StatusOK, albums)\n}\n\n// postAlbums adds an album from JSON received in the request body.\nfunc postAlbums(c *gin.Context) {\n    var newAlbum album\n\n    // Call BindJSON to bind the received JSON to\n    // newAlbum.\n\t// \u4f7f\u7528Context.BindJSON\u65b9\u6cd5\u5c06\u8bf7\u6c42\u4f53\u6570\u636e\u4ee5JSON\u7684\u5f62\u5f0f\u7ed1\u5b9a\u7ed9 newAlbum \n    if err := c.BindJSON(&newAlbum); err != nil {\n        return\n    }\n\n    // Add the new album to the slice.\n\t// \u5c06\u8f6c\u5316\u540e\u7684\u5e8f\u5217\u5316JSON \u9644\u52a0\u5230 albums \u5207\u7247\u4e2d\n    albums = append(albums, newAlbum)\n\t// \u5411\u5ba2\u6237\u7aef\u54cd\u5e94 201 \u72b6\u6001\u7801\uff0c\u5e76\u8fd4\u56de \u6210\u529f\u9644\u52a0\u7684\u6570\u636e\n    c.IndentedJSON(http.StatusCreated, newAlbum)\n}\n\n// getAlbumByID locates the album whose ID value matches the id\n// parameter sent by the client, then returns that album as a response.\n// \u901a\u8fc7\u5165\u53c2 ID \u67e5\u8be2\u6307\u5b9a album \u5e76\u54cd\u5e94\u5230\u5ba2\u6237\u7aef\nfunc getAlbumByID(c *gin.Context) {\n\t// \u4f7f\u7528 Context.Param \u4ece URL \u4e2d\u68c0\u7d22 id \u8def\u5f84\u53c2\u6570\u3002\n\t// \u56e0\u6b64\u5c06\u6b64\u5904\u7406\u7a0b\u5e8f\u6620\u5c04\u5230\u8def\u5f84\u65f6\uff0c\u8981\u5728\u8def\u5f84\u4e2d\u5305\u542b\u8be5\u53c2\u6570\u7684\u5360\u4f4d\u7b26 :id\u3002\n    id := c.Param("id")\n\n    // Loop through the list of albums, looking for\n    // an album whose ID value matches the parameter.\n\t// \u5faa\u73af\u904d\u5386\u5207\u7247\u4e2d\u7684 albums struct\uff0c\u67e5\u627e ID \u5b57\u6bb5\u503c\u4e0e id \u53c2\u6570\u503c\u5339\u914d\u7684\u4e13\u8f91\u7ed3\u6784\u3002\n\t// \u6b63\u5f0f\u7684\u5e94\u7528\u4e2d\uff0c\u4e00\u822c\u4e3a\u6570\u636e\u5e93\u67e5\u8be2\n\t// \u5982\u679c\u627e\u5230\uff0c\u5219\u5c06\u8be5 album \u7ed3\u6784\u5e8f\u5217\u5316\u4e3a JSON\uff0c\u5e76\u5c06\u5176\u4f5c\u4e3a\u5e26\u6709 200 OK HTTP \u7684\u54cd\u5e94\u8fd4\u56de\u3002\n\t// \u5982\u679c\u627e\u4e0d\u5230\u5339\u914d\u7684 album\uff0c\u5219\u4f7f\u7528 Context.IndentedJSON \u8fd4\u56de HTTP 404 \u9519\u8bef\n\n    for _, a := range albums {\n        if a.ID == id {\n            c.IndentedJSON(http.StatusOK, a)\n            return\n        }\n    }\n    c.IndentedJSON(http.StatusNotFound, gin.H{"message": "album not found"})\n}\n\n'})}),"\n",(0,r.jsxs)(e.blockquote,{children:["\n",(0,r.jsxs)(e.p,{children:["\u5982\u679c\u60f3\u8981\u66f4\u89c4\u8303\u5730\u7f16\u7801\uff0c\u53ef\u4ee5\u53c2\u8003 \u5934\u90e8\u7ae0\u8282\uff1aGo\u7f16\u7801\u524d\u7f6e\u77e5\u8bc6 \u53ca ",(0,r.jsx)(e.a,{href:"https://golang.google.cn/doc/effective_go",children:"Effective Go"})]}),"\n"]}),"\n",(0,r.jsx)(e.p,{children:"\u63a5\u4e0b\u6765\uff0c\u7ee7\u7eed\u8fdb\u884c Go \u4e2d\u7684 \u6cdb\u578b\uff08generics\uff09\u7684\u5b66\u4e60"}),"\n",(0,r.jsx)(e.h3,{id:"7-\u6cdb\u578b\u5165\u95e8",children:"7. \u6cdb\u578b\u5165\u95e8"}),"\n",(0,r.jsxs)(e.p,{children:["\u672c\u8282\u4ecb\u7ecd\u4e86 Go \u4e2d\u6cdb\u578b\u7684\u57fa\u7840\u77e5\u8bc6\u3002\u501f\u52a9\u6cdb\u578b\uff0c\u53ef\u4ee5\u58f0\u660e\u548c\u4f7f\u7528",(0,r.jsx)(e.strong,{children:"\u80fd\u4e0e\u8c03\u7528\u4ee3\u7801\u63d0\u4f9b\u7684\u4e00\u7ec4\u7c7b\u578b\u4e2d\u7684\u4efb\u4f55\u4e00\u4e2a"}),"\u4e00\u8d77\u4f7f\u7528\u7684",(0,r.jsx)(e.strong,{children:"\u51fd\u6570\u6216\u7c7b\u578b"}),"\u3002"]}),"\n",(0,r.jsx)(e.p,{children:"\u6b64\u793a\u4f8b\u662f\u975e\u6cdb\u578b\u51fd\u6570\u4f7f\u7528\u793a\u4f8b"}),"\n",(0,r.jsx)(e.pre,{children:(0,r.jsx)(e.code,{className:"language-go",children:'package main\n\nimport "fmt"\n\nfunc SumInts(m map[string]int64) int64 {\n\ts := int64(0)\n\n\tfor _, v := range m {\n\t\ts += v\n\t}\n\n\treturn s\n}\n\nfunc SumFloats(m map[string]float64) float64 {\n\ts := float64(0)\n\n\tfor _, v := range m {\n\t\ts += v\n\t}\n\n\treturn s\n}\n\nfunc main() {\n\tints := map[string]int64{\n\t\t"first":  10,\n\t\t"second": 12,\n\t}\n\n\tfloats := map[string]float64{\n\t\t"first":  12.345,\n\t\t"second": 13.234,\n\t}\n\tfmt.Printf("ints: %v, floats: %v", SumInts(ints), SumFloats(floats))\n}\n\n'})}),"\n",(0,r.jsx)(e.p,{children:"\u5728\u672c\u8282\u4e2d\uff0c\u6211\u4eec\u4f7f\u7528\u6cdb\u578b\uff0c\u6dfb\u52a0\u4e00\u4e2a\u901a\u7528\u51fd\u6570\uff0c\u8be5\u51fd\u6570\u53ef\u4ee5\u63a5\u6536\u5305\u542b\u6574\u6570\u6216\u6d6e\u70b9\u503c\u7684Map\uff0c\u4ece\u800c\u6709\u6548\u5730\u7528\u4e00\u4e2a\u51fd\u6570\u66ff\u6362\u521a\u521a\u7f16\u5199\u7684\u4e24\u4e2a\u51fd\u6570\u3002"}),"\n",(0,r.jsx)(e.pre,{children:(0,r.jsx)(e.code,{className:"language-go",children:'package main\n\nimport "fmt"\n\n// func SumInts(m map[string]int64) int64 {\n// \ts := int64(0)\n\n// \tfor _, v := range m {\n// \t\ts += v\n// \t}\n\n// \treturn s\n// }\n\n// func SumFloats(m map[string]float64) float64 {\n// \ts := float64(0)\n\n// \tfor _, v := range m {\n// \t\ts += v\n// \t}\n\n// \treturn s\n// }\n\n// SumIntsOrFloats sums the values of map m. It supports both int64 and float64\n// as types for map values.\n// \u5176\u4e2d[]\u5305\u88f9\u7684\u53c2\u6570\uff0c\u79f0\u4e3a\u7c7b\u578b\u53c2\u6570\uff0c\u62ec\u53f7\u5185\u7684\u4e3a\u666e\u901a\u53c2\u6570\uff0c\u7c7b\u578b\u53c2\u6570\u6307\u5b9a\u4e86\u7c7b\u578b\u58f0\u660e\uff0c\n// K \u58f0\u660e\u4e3a comparable, V \u58f0\u660e\u4e3a int64 \u6216\u8005 float64\n// \u5728\u666e\u901a\u53c2\u6570\u7684\u7c7b\u578b\u4e2d\uff0c\u53ef\u4ee5\u4f7f\u7528\u58f0\u660e\u6807\u8bc6 K \u548c V \u4ee3\u66ff \u8b6c\u5982 map[string]int64\u3001mapp[string]float64\nfunc SumIntsOrFloats[K comparable, V int64 | float64](m map[K]V) V {\n\tvar s V\n\tfor _, v := range m {\n\t\ts += v\n\t}\n\treturn s\n}\n\nfunc main() {\n\tints := map[string]int64{\n\t\t"first":  10,\n\t\t"second": 12,\n\t}\n\n\tfloats := map[string]float64{\n\t\t"first":  12.345,\n\t\t"second": 13.234,\n\t}\n\t// fmt.Printf("ints: %v, floats: %v", SumInts(ints), SumFloats(floats))\n\n\t// \u7c7b\u578b\u53c2\u6570\uff0c\u5728\u8c03\u7528\u65f6\u53ef\u6709\u53ef\u65e0\uff0cGo\u4f1a\u81ea\u884c\u63a8\u65ad\n\t// fmt.Printf("Generic Sums: %v and %v\\n",\n    // SumIntsOrFloats[string, int64](ints),\n    // SumIntsOrFloats[string, float64](floats))\n\tfmt.Printf("ints: %v, floats: %v", SumIntsOrFloats(ints), SumIntsOrFloats(floats))\n}\n\n'})}),"\n",(0,r.jsx)(e.p,{children:"\u6700\u540e\uff0c\u6211\u4eec\u5c06\u4f7f\u7528\u63a5\u53e3\uff08type XX interface\uff09\u5bf9\u672c\u6b21\u4ee3\u7801\u4e2d\u7684\u53ef\u590d\u7528\u7c7b\u578b\u8fdb\u884c\u7ea6\u675f\uff1a"}),"\n",(0,r.jsx)(e.pre,{children:(0,r.jsx)(e.code,{className:"language-go",children:'package main\n\nimport "fmt"\n\n// \u901a\u8fc7 type \u58f0\u660e\u4e86 Number \u7c7b\u578b\u7684\u7ea6\u675f\uff0c\u6b64\u7ea6\u675f\uff0c\u53ef\u4ee5\u4ee3\u66ff int64 | float64 \u7684\u7ec4\u5408\ntype Number interface {\n\tint64 | float64\n}\n\n// func SumInts(m map[string]int64) int64 {\n// \ts := int64(0)\n\n// \tfor _, v := range m {\n// \t\ts += v\n// \t}\n\n// \treturn s\n// }\n\n// func SumFloats(m map[string]float64) float64 {\n// \ts := float64(0)\n\n// \tfor _, v := range m {\n// \t\ts += v\n// \t}\n\n// \treturn s\n// }\n\n// SumIntsOrFloats sums the values of map m. It supports both int64 and float64\n// as types for map values.\n// \u5176\u4e2d[]\u5305\u88f9\u7684\u53c2\u6570\uff0c\u79f0\u4e3a\u7c7b\u578b\u53c2\u6570\uff0c\u62ec\u53f7\u5185\u7684\u4e3a\u666e\u901a\u53c2\u6570\uff0c\u7c7b\u578b\u53c2\u6570\u6307\u5b9a\u4e86\u7c7b\u578b\u58f0\u660e\uff0c\n// K \u58f0\u660e\u4e3a comparable, V \u58f0\u660e\u4e3a int64 \u6216\u8005 float64\n// \u5728\u666e\u901a\u53c2\u6570\u7684\u7c7b\u578b\u4e2d\uff0c\u53ef\u4ee5\u4f7f\u7528\u58f0\u660e\u6807\u8bc6 K \u548c V \u4ee3\u66ff \u8b6c\u5982 map[string]int64\u3001mapp[string]float64\n// func SumIntsOrFloats[K comparable, V int64 | float64](m map[K]V) V {\n// \tvar s V\n// \tfor _, v := range m {\n// \t\ts += v\n// \t}\n// \treturn s\n// }\n\nfunc SumIntsOrFloats[K comparable, V Number](m map[K]V) V {\n\tvar s V\n\tfor _, v := range m {\n\t\ts += v\n\t}\n\treturn s\n}\n\nfunc main() {\n\tints := map[string]int64{\n\t\t"first":  10,\n\t\t"second": 12,\n\t}\n\n\tfloats := map[string]float64{\n\t\t"first":  12.345,\n\t\t"second": 13.234,\n\t}\n\t// fmt.Printf("ints: %v, floats: %v", SumInts(ints), SumFloats(floats))\n\tfmt.Printf("ints: %v, floats: %v", SumIntsOrFloats(ints), SumIntsOrFloats(floats))\n}\n'})}),"\n",(0,r.jsx)(e.p,{children:"\u5b8c\u6210\u4ee5\u4e0a\u77e5\u8bc6\uff0c\u6211\u4eec\u5df2\u7ecf\u638c\u63e1\u4e86Go\u7684\u57fa\u672c\u7f16\u7801\u6a21\u5f0f\uff0c\u63a5\u4e0b\u6765\uff0c\u62d3\u5c55\u4ecb\u7ecd\u4e0b\u6a21\u7cca\u6d4b\u8bd5\u7684\u5165\u95e8\u77e5\u8bc6\u3002"}),"\n",(0,r.jsx)(e.h3,{id:"8-\u6a21\u7cca\u6d4b\u8bd5\u5165\u95e8",children:"8. \u6a21\u7cca\u6d4b\u8bd5\u5165\u95e8"}),"\n",(0,r.jsx)(e.p,{children:"\u63a5\u4e0b\u6765\uff0c\u6211\u4eec\u901a\u8fc7\u4e00\u4e2a\u6848\u4f8b\uff0c\u8fdb\u884c\u6a21\u7cca\u6d4b\u8bd5\uff1a"}),"\n",(0,r.jsxs)(e.p,{children:["\u5728\u6211\u4eec\u7684workspace\u4e2d\uff0c\u521b\u5efa\u4e00\u4e2a\u6587\u4ef6\u5939\uff0c\u540d\u4e3a ",(0,r.jsx)(e.code,{children:"fuzz"}),"\uff0c\u6587\u4ef6\u5939\u5185\u65b0\u5efa\u6587\u4ef6 ",(0,r.jsx)(e.code,{children:"main.go"}),"\uff0c\u5e76\u952e\u5165\u5982\u4e0b\u4ee3\u7801\uff1a"]}),"\n",(0,r.jsx)(e.pre,{children:(0,r.jsx)(e.code,{className:"language-go",children:'package main\n\nimport "fmt"\n\nfunc Reverse(s string) string {\n\tb := []byte(s)\n\tfor i, j := 0, len(b)-1; i < len(b)/2; i, j = i+1, j-1 {\n\t\tb[i], b[j] = b[j], b[i]\n\t}\n\treturn string(b)\n}\n\nfunc main() {\n\tinput := "The quick brown fox jumped over the lazy dog"\n\trev := Reverse(input)\n\tdoubleRev := Reverse(rev)\n\tfmt.Printf("original: %q\\n", input)\n\tfmt.Printf("reversed: %q\\n", rev)\n\tfmt.Printf("reversed again: %q\\n", doubleRev)\n}\n'})}),"\n",(0,r.jsx)(e.p,{children:"\u4ee5\u4e0a\u4ee3\u7801\uff0c\u5b9e\u73b0\u4e86\u5b57\u7b26\u4e32\u7684\u53cd\u8f6c\u529f\u80fd\uff0c\u6211\u4eec\u8fd0\u884c\u540e\uff0c\u53ef\u4ee5\u770b\u5230\u9884\u671f\u6548\u679c\uff0c\u4f46\u662f\u4f5c\u4e3a\u5065\u58ee\u7684\u5305\u4f7f\u7528\uff0c\n\u6211\u4eec\u8fd8\u9700\u8981\u6dfb\u52a0\u6d4b\u8bd5\u8fdb\u884c\u9a8c\u8bc1\uff0c\u4e4b\u524d\u6211\u4eec\u4f7f\u7528\u4e86\u5355\u5143\u6d4b\u8bd5\uff0c\u63d0\u4f9b\u786e\u5b9a\u7684\u8f93\u5165\uff0c\u548c\u671f\u671b\u7684\u8f93\u51fa\uff0c\u8fdb\u884c\u9884\u671f\u9a8c\u8bc1\u3002\n\u5355\u5143\u6d4b\u8bd5\u6709\u5c40\u9650\u6027\uff0c\u5373\u6bcf\u4e2a\u8f93\u5165\u90fd\u5fc5\u987b\u7531\u5f00\u53d1\u4eba\u5458\u6dfb\u52a0\u5230\u6d4b\u8bd5\u4e2d\u3002\u6a21\u7cca\u6d4b\u8bd5\u7684\u4e00\u4e2a\u597d\u5904\u662f\uff0c\u5b83\u4f1a\u4e3a\u60a8\u7684\u4ee3\u7801\u63d0\u4f9b\u8f93\u5165\uff0c\n\u5e76\u53ef\u80fd\u8bc6\u522b\u60a8\u63d0\u51fa\u7684\u6d4b\u8bd5\u7528\u4f8b\u672a\u8fbe\u5230\u7684\u6781\u7aef\u60c5\u51b5\u3002"}),"\n",(0,r.jsx)(e.p,{children:"\u63a5\u4e0b\u6765\uff0c\u6211\u4eec\u6dfb\u52a0\u8fd9\u4e24\u79cd\u6d4b\u8bd5\u7684\u5b9e\u73b0\uff1b"}),"\n",(0,r.jsxs)(e.ol,{children:["\n",(0,r.jsxs)(e.li,{children:["\u540c\u7ea7\u76ee\u5f55\u65b0\u5efa\u6587\u4ef6 ",(0,r.jsx)(e.code,{children:"Reverse_test.go"}),"\uff0c\u952e\u5165\u4ee5\u4e0b\u4ee3\u7801\uff1a"]}),"\n"]}),"\n",(0,r.jsx)(e.pre,{children:(0,r.jsx)(e.code,{className:"language-go",children:'package main\n\nimport (\n\t"testing"\n\t"unicode/utf8"\n)\n\n// \u5355\u5143\u6d4b\u8bd5\nfunc TestReverse(t *testing.T) {\n\ttestcases := []struct {\n\t\tin, want string\n\t}{\n\t\t{"Hello, world", "dlrow ,olleH"},\n\t\t{" ", " "},\n\t\t{"!12345", "54321!"},\n\t}\n\tfor _, tc := range testcases {\n\t\trev := Reverse(tc.in)\n\t\tif rev != tc.want {\n\t\t\tt.Errorf("Reverse: %q, want %q", rev, tc.want)\n\t\t}\n\t}\n}\n\n// \u6a21\u7cca\u6d4b\u8bd5\nfunc FuzzReverse(f *testing.F) {\n\ttestcases := []string{"Hello, world", " ", "!12345"}\n\tfor _, tc := range testcases {\n\t\tf.Add(tc) // Use f.Add to provide a seed corpus\n\t}\n\tf.Fuzz(func(t *testing.T, orig string) {\n\t\trev := Reverse(orig)\n\t\tdoubleRev := Reverse(rev)\n\t\tif orig != doubleRev {\n\t\t\tt.Errorf("Before: %q, after: %q", orig, doubleRev)\n\t\t}\n\t\tif utf8.ValidString(orig) && !utf8.ValidString(rev) {\n\t\t\tt.Errorf("Reverse produced invalid UTF-8 string %q", rev)\n\t\t}\n\t})\n}\n\n'})}),"\n",(0,r.jsx)(e.p,{children:"\u6a21\u7cca\u6d4b\u8bd5\u4e5f\u6709\u4e00\u4e9b\u5c40\u9650\u6027\u3002\u5728\u5355\u5143\u6d4b\u8bd5\u4e2d\uff0c\u60a8\u53ef\u4ee5\u9884\u6d4b\u51fd\u6570\u7684\u9884\u671f\u8f93\u51fa\uff0c\u5e76\u9a8c\u8bc1\u5b9e\u9645\u8f93\u51fa\u662f\u5426\u7b26\u5408\u8fd9\u4e9b\u9884\u671f\u3002"}),"\n",(0,r.jsx)(e.p,{children:"\u5728\u8fdb\u884c\u6a21\u7cca\u6d4b\u8bd5\u65f6\uff0c\u60a8\u65e0\u6cd5\u9884\u6d4b\u9884\u671f\u7684\u8f93\u51fa\uff0c\u56e0\u4e3a\u60a8\u65e0\u6cd5\u63a7\u5236\u8f93\u5165\u3002"}),"\n",(0,r.jsx)(e.p,{children:"\u4f46\u662f\uff0c\u60a8\u53ef\u4ee5\u5728\u6a21\u7cca\u6d4b\u8bd5\u4e2d\u9a8c\u8bc1\u8be5\u51fd\u6570\u7684\u4e00\u4e9b\u5c5e\u6027\u3002\u6b64\u6a21\u7cca\u6d4b\u8bd5\u4e2d\u68c0\u67e5\u7684\u4e24\u4e2a\u5c5e\u6027\u662f\uff1a"}),"\n",(0,r.jsxs)(e.ol,{children:["\n",(0,r.jsx)(e.li,{children:"\u53cd\u8f6c\u5b57\u7b26\u4e32\u4e24\u6b21\u53ef\u4fdd\u7559\u539f\u59cb\u503c"}),"\n",(0,r.jsx)(e.li,{children:"\u53cd\u8f6c\u7684\u5b57\u7b26\u4e32\u4fdd\u7559\u5176\u4f5c\u4e3a\u6709\u6548 UTF-8 \u7684\u72b6\u6001\u3002"}),"\n"]}),"\n",(0,r.jsx)(e.p,{children:(0,r.jsx)(e.strong,{children:"\u6ce8\u610f\u5355\u5143\u6d4b\u8bd5\u548c\u6a21\u7cca\u6d4b\u8bd5\u4e4b\u95f4\u7684\u8bed\u6cd5\u5dee\u5f02\uff1a"})}),"\n",(0,r.jsxs)(e.ul,{children:["\n",(0,r.jsxs)(e.li,{children:["\u51fd\u6570\u4ee5 FuzzXxx \u800c\u4e0d\u662f TestXxx \u5f00\u5934\uff0c\u5e76\u4e14",(0,r.jsx)(e.em,{children:"testing.F \u91c7\u7528"}),"testing.T"]}),"\n",(0,r.jsx)(e.li,{children:"\u5728\u60a8\u671f\u671b\u770b\u5230t.Run\u6267\u884c\u7684\u5730\u65b9\uff0c\u60a8\u770b\u5230\u7684\u662ff.Fuzz \u5b83\u63a5\u53d7\u4e00\u4e2a\u6a21\u7cca\u6d4b\u8bd5\u76ee\u6807\u51fd\u6570\uff0c\n\u8be5\u51fd\u6570\u7684\u53c2\u6570\u4e3a*testing.T\u200b\u200b \u4ee5\u53ca\u8981\u6a21\u7cca\u6d4b\u8bd5\u7684\u7c7b\u578b\u3002\u5355\u5143\u6d4b\u8bd5\u7684\u8f93\u5165\u4f7f\u7528f.Add\u4e3a\u79cd\u5b50\u8bed\u6599\u5e93\u63d0\u4f9b\u8f93\u5165\u3002"}),"\n"]}),"\n",(0,r.jsxs)(e.p,{children:["\u63a5\u4e0b\u6765\uff0c\u6211\u4eec\u6267\u884c ",(0,r.jsx)(e.code,{children:"go test"})," \u8fdb\u884c\u6d4b\u8bd5\u7ed3\u679c\u67e5\u770b,\u5982\u679c\u8be5\u6587\u4ef6\u4e2d\u8fd8\u6709\u5176\u4ed6\u6d4b\u8bd5\u51fd\u6570\uff0c\u4f46\u53ea\u60f3\u8fd0\u884c\u6a21\u7cca\u6d4b\u8bd5\uff0c\n\u53ef\u4ee5\u8fd0\u884c",(0,r.jsx)(e.code,{children:"go test -run=FuzzReverse"}),"\uff0c\u8fdb\u884c\u6307\u5b9a\u6267\u884c\u3002\u6b64\u65f6\uff0c\u4f9d\u7136\u662fPASS\u7684\uff0c\u56e0\u4e3a\u6211\u4eec\u7ed9\u5b9a\u4e86\u79cd\u5b50\u8bed\u6599\u5e93\u7684\u8f93\u5165\u9884\u8bbe\u3002"]}),"\n",(0,r.jsxs)(e.p,{children:["\u4e3a\u4e86\u63d0\u4f9b\u66f4\u5168\u9762\u7684\u6a21\u7cca\u6d4b\u8bd5\uff0c\u4e00\u822c\u4e0d\u6307\u5b9a\u9884\u8bbe,\u8fd0\u884c",(0,r.jsx)(e.code,{children:"go test -fuzz=Fuzz"}),"\uff0c\u8ba9\u79cd\u5b50\u8bed\u6599\u5e93\u4f7f\u7528Fuzz\u63d0\u4f9b\u7684seeds\u8fdb\u884c\u6d4b\u8bd5\uff0c\n\u6b64\u65f6\u7ed3\u679c\u51fa\u73b0\u4e86\u5931\u8d25\u7684\u60c5\u51b5\u3002"]}),"\n",(0,r.jsx)(e.pre,{children:(0,r.jsx)(e.code,{className:"language-shell",children:'go test -fuzz=Fuzz\n# fuzz: elapsed: 0s, gathering baseline coverage: 0/11 completed\n# failure while testing seed corpus entry: FuzzReverse/61be1eac0c5fb143\n# fuzz: elapsed: 0s, gathering baseline coverage: 3/11 completed\n# --- FAIL: FuzzReverse (0.16s)\n#     --- FAIL: FuzzReverse (0.00s)\n#         reverse_test.go:36: Reverse produced invalid UTF-8 string "\\x90\\xdf"\n\n# FAIL\n# exit status 1\n# FAIL    github.com/coderofrat/fuzz      0.975s\n'})}),"\n",(0,r.jsx)(e.p,{children:"\u51fa\u73b0\u5931\u8d25\u540e\uff0c\u4f1a\u5728testdata/fuzz/FuzzReverse\u76ee\u5f55\u751f\u6210\u5931\u8d25\u65e5\u5fd7\uff0c\u5185\u5bb9\u5982\u4e0b\uff1a"}),"\n",(0,r.jsx)(e.pre,{children:(0,r.jsx)(e.code,{className:"language-go",children:'go test fuzz v1\nstring("\u07d0") //  invalid UTF-8 string "\\x90\\xdf"\n'})}),"\n",(0,r.jsxs)(e.p,{children:['\u610f\u601d\u662f\uff0c"\u07d0"\u6d4b\u8bd5seek\u6309\u5b57\u8282\u53cd\u8f6c\u540e\uff0c\u6ca1\u6709\u901a\u8fc7',(0,r.jsx)(e.code,{children:"utf8.ValidString(orig) && !utf8.ValidString(rev)"}),"\u7684\u6821\u9a8c\uff0c\n\u56e0\u6b64\u6211\u4eec\u9488\u5bf9\u8fd9\u79cd\u95ee\u9898\uff0c\u8981\u8fdb\u884c\u76f8\u5e94\u7684\u6392\u9519\uff0c\u8981\u68c0\u67e5\u4e3a\u4ec0\u4e48\u8f93\u5165\uff08\u5728\u672c\u4f8b\u4e2d\u4e3a\u201c\u07d0\u201d\uff09\u5728\u53cd\u8f6c\u65f6\u5bfc\u81f4 Reverse \u4ea7\u751f\u65e0\u6548\u5b57\u7b26\u4e32\uff0c\n\u6211\u4eec\u53ef\u4ee5\u68c0\u67e5\u53cd\u8f6c\u5b57\u7b26\u4e32\u4e2d\u7684runes\u6570\u91cf\uff0c\u5728\u8fc7\u7a0b\u4e2d\u662f\u5426\u4e00\u81f4\u3002"]}),"\n",(0,r.jsx)(e.p,{children:"\u63a5\u4e0b\u6765\uff0c\u6211\u4eec\u6539\u5199\u6a21\u7cca\u6d4b\u8bd5\u7684target\u51fd\u6570\uff1a"}),"\n",(0,r.jsx)(e.pre,{children:(0,r.jsx)(e.code,{className:"language-go",children:'f.Fuzz(func(t *testing.T, orig string) {\n    rev := Reverse(orig)\n    doubleRev := Reverse(rev)\n\t// \u5982\u679c\u53d1\u751f\u9519\u8bef\u6216\u8005\u4f7f\u7528 -v \u6267\u884c\u6d4b\u8bd5\uff0c\u6b64 t.Logf \u884c\u5c06\u6253\u5370\u5230\u547d\u4ee4\u884c\uff0c\u8fd9\u53ef\u4ee5\u5e2e\u52a9\u60a8\u8c03\u8bd5\u6b64\u7279\u5b9a\u95ee\u9898\n    t.Logf("Number of runes: orig=%d, rev=%d, doubleRev=%d", utf8.RuneCountInString(orig), utf8.RuneCountInString(rev), utf8.RuneCountInString(doubleRev))\n    if orig != doubleRev {\n        t.Errorf("Before: %q, after: %q", orig, doubleRev)\n    }\n    if utf8.ValidString(orig) && !utf8.ValidString(rev) {\n        t.Errorf("Reverse produced invalid UTF-8 string %q", rev)\n    }\n})\n'})}),"\n",(0,r.jsxs)(e.p,{children:["\u968f\u540e\u6267\u884c",(0,r.jsx)(e.code,{children:"go test"}),"\uff0c\u518d\u6b21\u67e5\u770b\u7ed3\u679c\uff1a"]}),"\n",(0,r.jsx)(e.pre,{children:(0,r.jsx)(e.code,{className:"language-sh",children:'go test\n# --- FAIL: FuzzReverse (0.00s)\n#     --- FAIL: FuzzReverse/61be1eac0c5fb143 (0.00s)\n#         reverse_test.go:42: Number of runes: orig=1, rev=2, doubleRev=1\n#         reverse_test.go:47: Reverse produced invalid UTF-8 string "\\x90\\xdf"\n# FAIL\n# exit status 1\n# FAIL    github.com/coderofrat/fuzz      0.856s\n'})}),"\n",(0,r.jsx)(e.p,{children:"\u7531\u7ed3\u679c\u53ef\u89c1\uff0c\u53cd\u8f6c\u8fc7\u7a0brunes\u957f\u5ea6\u6709\u53d8\u5316\u3002\u6574\u4e2a\u79cd\u5b50\u8bed\u6599\u5e93\u4f7f\u7528\u7684\u5b57\u7b26\u4e32\u6bcf\u4e2a\u5b57\u7b26\u90fd\u662f\u4e00\u4e2a\u5b57\u8282\u3002\n\u4f46\u662f\uff0c\u8bf8\u5982\u201c\u6cc3\u201d\u3001\u201c\u07d0\u201d\u4e4b\u7c7b\u7684\u5b57\u7b26\u53ef\u80fd\u9700\u8981\u591a\u4e2a\u5b57\u8282\u3002\u56e0\u6b64\uff0c\u9010\u5b57\u8282\u53cd\u8f6c\u5b57\u7b26\u4e32\u5c06\u4f7f\u591a\u5b57\u8282\u5b57\u7b26\u65e0\u6548\u3002"}),"\n",(0,r.jsxs)(e.blockquote,{children:["\n",(0,r.jsxs)(e.p,{children:["\u5982\u679c\u60a8\u5bf9 Go \u5982\u4f55\u5904\u7406\u5b57\u7b26\u4e32\u611f\u5230\u597d\u5947\uff0c\u8bf7\u9605\u8bfb\u535a\u5ba2\u6587\u7ae0 ",(0,r.jsx)(e.a,{href:"https://golang.google.cn/blog/strings",children:"Go \u4e2d\u7684\u5b57\u7b26\u4e32\u3001\u5b57\u8282\u3001\u7b26\u6587\u548c\u5b57\u7b26"})," \u4ee5\u83b7\u5f97\u66f4\u6df1\u5165\u7684\u4e86\u89e3\u3002"]}),"\n"]}),"\n",(0,r.jsx)(e.p,{children:"\u63a5\u4e0b\u6765\uff0c\u4e3a\u4e86\u66f4\u597d\u5730\u7406\u89e3\u8fd9\u4e2abug\uff0c\u6211\u4eec\u5b9e\u8df5\u6539\u6b63\u5b83\uff1a"}),"\n",(0,r.jsx)(e.pre,{children:(0,r.jsx)(e.code,{className:"language-go",children:"func Reverse(s string) string {\n    r := []rune(s)\n    for i, j := 0, len(r)-1; i < len(r)/2; i, j = i+1, j-1 {\n        r[i], r[j] = r[j], r[i]\n    }\n    return string(r)\n}\n"})}),"\n",(0,r.jsx)(e.p,{children:"\u5b8c\u6574\u4ee3\u7801\uff1a"}),"\n",(0,r.jsx)(e.pre,{children:(0,r.jsx)(e.code,{className:"language-go",children:'package main\n\nimport "fmt"\n\n// func Reverse(s string) string {\n// \tb := []byte(s)\n// \tfor i, j := 0, len(b)-1; i < len(b)/2; i, j = i+1, j-1 {\n// \t\tb[i], b[j] = b[j], b[i]\n// \t}\n// \treturn string(b)\n// }\n\nfunc Reverse(s string) string {\n\tr := []rune(s)\n\tfor i, j := 0, len(r)-1; i < len(r)/2; i, j = i+1, j-1 {\n\t\tr[i], r[j] = r[j], r[i]\n\t}\n\treturn string(r)\n}\n\nfunc main() {\n\tinput := "The quick brown fox jumped over the lazy dog"\n\trev := Reverse(input)\n\tdoubleRev := Reverse(rev)\n\tfmt.Printf("original: %q\\n", input)\n\tfmt.Printf("reversed: %q\\n", rev)\n\tfmt.Printf("reversed again: %q\\n", doubleRev)\n}\n'})}),"\n",(0,r.jsxs)(e.p,{children:["\u4e3b\u8981\u533a\u522b\u5728\u4e8e Reverse \u73b0\u5728\u662f\u8fed\u4ee3\u5b57\u7b26\u4e32\u4e2d\u7684\u6bcf\u4e2a\u7b26\u6587(rune)\uff0c\u800c\u4e0d\u662f\u6bcf\u4e2a\u5b57\u8282(byte)\u3002\u8bf7\u6ce8\u610f\uff0c\u8fd9\u53ea\u662f\u4e00\u4e2a\u793a\u4f8b\uff0c\u5e76\u4e0d\u80fd\u6b63\u786e\u5904\u7406 ",(0,r.jsx)(e.a,{href:"https://en.wikipedia.org/wiki/Combining_character",children:"\u7ec4\u5408\u5b57\u7b26"})," \u3002"]}),"\n",(0,r.jsxs)(e.p,{children:["\u6700\u540e\uff0c\u518d\u6b21\u6267\u884c",(0,r.jsx)(e.code,{children:"go test"}),"\uff0c\u8f93\u51fa\u5982\u4e0b:"]}),"\n",(0,r.jsx)(e.pre,{children:(0,r.jsx)(e.code,{className:"language-sh",children:"go test\n# PASS\n# ok      github.com/coderofrat/fuzz      0.945s\n"})}),"\n",(0,r.jsxs)(e.p,{children:["\u8fd9\u6b21\uff0c\u9519\u8bef\u4e0d\u518d\u51fa\u73b0\uff0c\u4f46\u662f\u4e3a\u4e86\u66f4\u52a0\u4e25\u8c28\uff0c\u6211\u4eec\u518d\u6b21\u4f7f\u7528 ",(0,r.jsx)(e.code,{children:"-fuzz=Fuzz"})," \u53c2\u6570\u8fdb\u884c\u6d4b\u8bd5\uff1a"]}),"\n",(0,r.jsx)(e.pre,{children:(0,r.jsx)(e.code,{className:"language-sh",children:'go test -fuzz=Fuzz\n# fuzz: elapsed: 0s, gathering baseline coverage: 0/11 completed\n# fuzz: minimizing 32-byte failing input file\n# fuzz: elapsed: 1s, gathering baseline coverage: 4/11 completed\n# --- FAIL: FuzzReverse (0.74s)\n#     --- FAIL: FuzzReverse (0.00s)\n#         reverse_test.go:42: Number of runes: orig=1, rev=1, doubleRev=1\n#         reverse_test.go:44: Before: "\\xd8", after: "\ufffd"\n\n#     Failing input written to testdata\\fuzz\\FuzzReverse\\5f644fdcef1c73a8\n#     To re-run:\n#     go test -run=FuzzReverse/5f644fdcef1c73a8\n# FAIL\n# exit status 1\n# FAIL    github.com/coderofrat/fuzz      0.897s\n'})}),"\n",(0,r.jsx)(e.p,{children:"\u6211\u4eec\u53ef\u4ee5\u770b\u5230\uff0c\u7ecf\u8fc7\u4e24\u6b21\u53cd\u8f6c\u540e\uff0c\u5b57\u7b26\u4e32\u4e0e\u539f\u59cb\u5b57\u7b26\u4e32\u4e0d\u540c\u3002\u8fd9\u6b21\u8f93\u5165\u672c\u8eab\u662f\u65e0\u6548\u7684 unicode\u3002\u5982\u679c\u6211\u4eec\u4f7f\u7528\u5b57\u7b26\u4e32\u8fdb\u884c\u6a21\u7cca\u6d4b\u8bd5\uff0c\u8fd9\u600e\u4e48\u53ef\u80fd\u5462\uff1f"}),"\n",(0,r.jsx)(e.p,{children:"\u901a\u8fc7\u4e4b\u524d\u7684\u4e86\u89e3\uff0c\u6211\u4eec\u53ef\u4ee5\u4f7f\u7528\u4e0d\u540c\u7684\u65b9\u6cd5\u8fdb\u884c\u8c03\u8bd5\uff0c\u6b64\u65f6\u7684\u60c5\u51b5\uff0c\u6211\u4eec\u4f7f\u7528debugger\u89e3\u51b3\uff0c\u8f83\u4e3a\u65b9\u4fbf\u3002"}),"\n",(0,r.jsxs)(e.p,{children:["\u4ed4\u7ec6\u67e5\u770b\u4e4b\u524dlog\u4e2d\u7684\u53cd\u8f6c\u540e\u7684\u5b57\u7b26\u4e32\uff0c\u53d1\u73b0",(0,r.jsx)(e.code,{children:'Before: "\\xd8", after: "\ufffd"'}),"\u8fd9\u4e2a\u9519\u8bef\u63d0\u793a\u3002\u5728 Go \u4e2d\uff0c\u5b57\u7b26\u4e32\u662f\u53ea\u8bfb\u7684\u5b57\u8282\u5207\u7247\uff08[]byte\uff09\uff0c\n\u53ef\u4ee5\u5305\u542b\u65e0\u6548 UTF-8 \u7684\u5b57\u8282\u3002\u539f\u59cb\u5b57\u7b26\u4e32\u662f\u5305\u542b\u4e00\u4e2a\u5b57\u8282\u201c\\x91\u201d\u7684\u5b57\u8282\u5207\u7247\u3002\u5f53\u8f93\u5165\u5b57\u7b26\u4e32\u8bbe\u7f6e\u4e3a []rune \u65f6\uff0cGo \u5c06\u5b57\u8282\u5207\u7247\u7f16\u7801\u4e3a UTF-8\uff0c\n\u5e76\u7528 UTF-8 \u5b57\u7b26 \ufffd \u66ff\u6362\u8be5\u5b57\u8282\u3002\u5f53\u6211\u4eec\u5c06\u66ff\u6362\u7684 UTF-8 \u5b57\u7b26\u4e0e\u8f93\u5165\u5b57\u8282\u5207\u7247\u8fdb\u884c\u6bd4\u8f83\u65f6\uff0c\u5b83\u4eec\u663e\u7136\u4e0d\u76f8\u7b49\u3002"]}),"\n",(0,r.jsx)(e.p,{children:"\u6211\u4eec\u5c06\u5728 Reverse \u51fd\u6570\u4e2d\u8bb0\u5f55\u6709\u7528\u7684\u8c03\u8bd5\u4fe1\u606f\u3002"}),"\n",(0,r.jsx)(e.pre,{children:(0,r.jsx)(e.code,{className:"language-go",children:'func Reverse(s string) string {\n    fmt.Printf("input: %q\\n", s)\n    r := []rune(s)\n    fmt.Printf("runes: %q\\n", r)\n    for i, j := 0, len(r)-1; i < len(r)/2; i, j = i+1, j-1 {\n        r[i], r[j] = r[j], r[i]\n    }\n    return string(r)\n}\n'})}),"\n",(0,r.jsxs)(e.p,{children:["\u8fd9\u6b21\uff0c\u6211\u4eec\u53ea\u60f3\u8fd0\u884c\u5931\u8d25\u7684\u6d4b\u8bd5\u6765\u68c0\u67e5\u65e5\u5fd7\u3002\u4e3a\u6b64\uff0c\u6211\u4eec\u5c06\u4f7f\u7528 ",(0,r.jsx)(e.code,{children:"go test -run"}),"\uff0c\u8981\u8fd0\u884c FuzzXxx/testdata \u4e2d\u7684\u7279\u5b9a\u8bed\u6599\u5e93\u6761\u76ee\uff0c\u60a8\u53ef\u4ee5\u4e3a -run \u63d0\u4f9b {FuzzTestName}/{filename}\u3002\u8fd9\u5728\u8c03\u8bd5\u65f6\u5f88\u6709\u7528\u3002\u5728\u8fd9\u79cd\u60c5\u51b5\u4e0b\uff0c\u5c06 -run \u6807\u5fd7\u8bbe\u7f6e\u4e3a\u5931\u8d25\u6d4b\u8bd5\u7684\u7cbe\u786e\u54c8\u5e0c\u503c\uff1a"]}),"\n",(0,r.jsx)(e.pre,{children:(0,r.jsx)(e.code,{className:"language-sh",children:'go test -run=FuzzReverse/5f644fdcef1c73a8                             \n# input: "\\xd8"\n# runes: [\'\ufffd\']\n# input: "\ufffd"\n# runes: [\'\ufffd\']\n# --- FAIL: FuzzReverse (0.00s)\n#     --- FAIL: FuzzReverse/5f644fdcef1c73a8 (0.00s)\n#         reverse_test.go:42: Number of runes: orig=1, rev=1, doubleRev=1\n#         reverse_test.go:44: Before: "\\xd8", after: "\ufffd"\n# FAIL\n# exit status 1\n# FAIL    github.com/coderofrat/fuzz      0.953s\n'})}),"\n",(0,r.jsx)(e.p,{children:"\u7531\u6b64\u53ef\u89c1\uff0c\u8f93\u5165\u662f\u65e0\u6548\u7684unicode\uff0c\u4e3a\u4e86\u4fee\u590d\u6b64\u95ee\u9898\uff0c\u5982\u679c Reverse \u7684\u8f93\u5165\u4e0d\u662f\u6709\u6548\u7684 UTF-8\uff0c\u6211\u4eec\u5c06\u8fd4\u56de\u9519\u8bef\u3002"}),"\n",(0,r.jsx)(e.p,{children:"\u4fee\u590d\u4ee3\u7801\u5982\u4e0b\uff1a"}),"\n",(0,r.jsx)(e.pre,{children:(0,r.jsx)(e.code,{className:"language-go",children:'package main\n\nimport (\n\t"errors"\n\t"fmt"\n\t"unicode/utf8"\n)\n\n// func Reverse(s string) string {\n// \tb := []byte(s)\n// \tfor i, j := 0, len(b)-1; i < len(b)/2; i, j = i+1, j-1 {\n// \t\tb[i], b[j] = b[j], b[i]\n// \t}\n// \treturn string(b)\n// }\n\nfunc Reverse(s string) (string, error) {\n\tif !utf8.ValidString(s) {\n\t\treturn s, errors.New("input is not valid UTF-8")\n\t}\n\tr := []rune(s)\n\tfor i, j := 0, len(r)-1; i < len(r)/2; i, j = i+1, j-1 {\n\t\tr[i], r[j] = r[j], r[i]\n\t}\n\treturn string(r), nil\n}\n\n// func main() {\n// \tinput := "The quick brown fox jumped over the lazy dog"\n// \trev := Reverse(input)\n// \tdoubleRev := Reverse(rev)\n// \tfmt.Printf("original: %q\\n", input)\n// \tfmt.Printf("reversed: %q\\n", rev)\n// \tfmt.Printf("reversed again: %q\\n", doubleRev)\n// }\n\n// \u6dfb\u52a0\u9519\u8bef\u60c5\u51b5\u63a5\u6536\u53ca\u5c55\u793a\nfunc main() {\n\tinput := "The quick brown fox jumped over the lazy dog"\n\trev, revErr := Reverse(input)\n\tdoubleRev, doubleRevErr := Reverse(rev)\n\tfmt.Printf("original: %q\\n", input)\n\tfmt.Printf("reversed: %q, err: %v\\n", rev, revErr)\n\tfmt.Printf("reversed again: %q, err: %v\\n", doubleRev, doubleRevErr)\n}\n'})}),"\n",(0,r.jsxs)(e.p,{children:["\u540c\u65f6\u4fee\u6539\u6a21\u7cca\u6d4b\u8bd5\u6587\u4ef6",(0,r.jsx)(e.code,{children:"reverse_test.go"}),"\uff1a"]}),"\n",(0,r.jsx)(e.pre,{children:(0,r.jsx)(e.code,{className:"language-go",children:'package main\n\nimport (\n\t"testing"\n\t"unicode/utf8"\n)\n\nfunc TestReverse(t *testing.T) {\n\ttestcases := []struct {\n\t\tin, want string\n\t}{\n\t\t{"Hello, world", "dlrow ,olleH"},\n\t\t{" ", " "},\n\t\t{"!12345", "54321!"},\n\t}\n\tfor _, tc := range testcases {\n\t\trev, err := Reverse(tc.in)\n\t\t// \u9664\u4e86\u8fd4\u56de\u4e4b\u5916\uff0c\u60a8\u8fd8\u53ef\u4ee5\u8c03\u7528 t.Skip() \u6765\u505c\u6b62\u8be5\u6a21\u7cca\u8f93\u5165\u7684\u6267\u884c\u3002\n\t\tif err != nil {\n\t\t\treturn\n\t\t}\n\t\tif rev != tc.want {\n\t\t\tt.Errorf("Reverse: %q, want %q", rev, tc.want)\n\t\t}\n\t}\n}\n\nfunc FuzzReverse(f *testing.F) {\n\ttestcases := []string{"Hello, world", " ", "!12345"}\n\tfor _, tc := range testcases {\n\t\tf.Add(tc) // Use f.Add to provide a seed corpus\n\t}\n\t// f.Fuzz(func(t *testing.T, orig string) {\n\t// \trev := Reverse(orig)\n\t// \tdoubleRev := Reverse(rev)\n\t// \tif orig != doubleRev {\n\t// \t\tt.Errorf("Before: %q, after: %q", orig, doubleRev)\n\t// \t}\n\t// \tif utf8.ValidString(orig) && !utf8.ValidString(rev) {\n\t// \t\tt.Errorf("Reverse produced invalid UTF-8 string %q", rev)\n\t// \t}\n\t// })\n\t// f.Fuzz(func(t *testing.T, orig string) {\n\t// \trev := Reverse(orig)\n\t// \tdoubleRev := Reverse(rev)\n\t// \tt.Logf("Number of runes: orig=%d, rev=%d, doubleRev=%d", utf8.RuneCountInString(orig), utf8.RuneCountInString(rev), utf8.RuneCountInString(doubleRev))\n\t// \tif orig != doubleRev {\n\t// \t\tt.Errorf("Before: %q, after: %q", orig, doubleRev)\n\t// \t}\n\t// \tif utf8.ValidString(orig) && !utf8.ValidString(rev) {\n\t// \t\tt.Errorf("Reverse produced invalid UTF-8 string %q", rev)\n\t// \t}\n\t// })\n\tf.Fuzz(func(t *testing.T, orig string) {\n\t\trev, err1 := Reverse(orig)\n\t\t// \u9664\u4e86\u8fd4\u56de\u4e4b\u5916\uff0c\u60a8\u8fd8\u53ef\u4ee5\u8c03\u7528 t.Skip() \u6765\u505c\u6b62\u8be5\u6a21\u7cca\u8f93\u5165\u7684\u6267\u884c\u3002\n\t\tif err1 != nil {\n\t\t\treturn\n\t\t}\n\t\tdoubleRev, err2 := Reverse(rev)\n\t\t// \u6a21\u7cca\u6d4b\u8bd5\u9488\u5bf9\u9519\u8bef\u5904\u7406\u60c5\u51b5\uff0c\u76f4\u63a5return\u5373\u53ef\n\t\tif err2 != nil {\n\t\t\treturn\n\t\t}\n\t\tif orig != doubleRev {\n\t\t\tt.Errorf("Before: %q, after: %q", orig, doubleRev)\n\t\t}\n\t\tif utf8.ValidString(orig) && !utf8.ValidString(rev) {\n\t\t\tt.Errorf("Reverse produced invalid UTF-8 string %q", rev)\n\t\t}\n\t})\n}\n'})}),"\n",(0,r.jsx)(e.p,{children:"\u968f\u540e\uff0c\u518d\u6b21\u6267\u884c\uff1a"}),"\n",(0,r.jsx)(e.pre,{children:(0,r.jsx)(e.code,{className:"language-sh",children:"go test -run=FuzzReverse/5f644fdcef1c73a8\n# PASS\n# ok      github.com/coderofrat/fuzz      0.903s\n\ngo test\n# PASS\n# ok      github.com/coderofrat/fuzz      0.071s\n"})}),"\n",(0,r.jsxs)(e.blockquote,{children:["\n",(0,r.jsxs)(e.p,{children:["\u4f7f\u7528 go test -fuzz=Fuzz \u8fdb\u884c\u6a21\u7cca\u6d4b\u8bd5\uff0c\u7136\u540e\u8fc7\u51e0\u79d2\u949f\u540e\uff0c\u4f7f\u7528 ctrl-C \u505c\u6b62\u6a21\u7cca\u6d4b\u8bd5\u3002\n\u9664\u975e\u60a8\u4f20\u9012 -fuzztime \u6807\u5fd7\uff0c\u5426\u5219\u6a21\u7cca\u6d4b\u8bd5\u5c06\u4e00\u76f4\u8fd0\u884c\uff0c\u76f4\u5230\u9047\u5230\u5931\u8d25\u7684\u8f93\u5165\u3002\u9ed8\u8ba4\u5982\u679c\u6ca1\u6709\u53d1\u751f\u6545\u969c\u5219\u6c38\u8fdc\u8fd0\u884c\uff0c\n\u53ef\u4ee5\u4f7f\u7528 ctrl-C \u4e2d\u65ad\u8be5\u8fc7\u7a0b\u3002 ",(0,r.jsx)(e.code,{children:"-fuzztime"}),"\uff0c\u4ed6\u9650\u5236\u4e86\u6a21\u7cca\u6d4b\u8bd5\u7684\u6267\u884c\u6301\u7eed\u65f6\u95f4\uff08 -fuzztime 10s \uff09\u3002"]}),"\n"]}),"\n",(0,r.jsx)(e.pre,{children:(0,r.jsx)(e.code,{className:"language-sh",children:"go test -fuzz=Fuzz\n# fuzz: elapsed: 0s, gathering baseline coverage: 0/12 completed\n# fuzz: elapsed: 0s, gathering baseline coverage: 12/12 completed, now fuzzing with 16 workers\n# fuzz: elapsed: 3s, execs: 259354 (86318/sec), new interesting: 31 (total: 43)\n# fuzz: elapsed: 6s, execs: 918212 (219941/sec), new interesting: 33 (total: 45)\n# fuzz: elapsed: 9s, execs: 1384988 (155418/sec), new interesting: 35 (total: 47)\n# fuzz: elapsed: 12s, execs: 1870316 (161724/sec), new interesting: 36 (total: 48)\n# fuzz: elapsed: 15s, execs: 2373554 (167990/sec), new interesting: 36 (total: 48)\n# fuzz: elapsed: 18s, execs: 3538280 (388194/sec), new interesting: 36 (total: 48)\n# fuzz: elapsed: 21s, execs: 4176266 (212605/sec), new interesting: 36 (total: 48)\n# fuzz: elapsed: 24s, execs: 5461494 (428533/sec), new interesting: 37 (total: 49)\n# fuzz: elapsed: 27s, execs: 6515307 (351303/sec), new interesting: 37 (total: 49)\n# fuzz: elapsed: 30s, execs: 7482390 (322079/sec), new interesting: 37 (total: 49)\n# fuzz: elapsed: 33s, execs: 8481288 (333279/sec), new interesting: 37 (total: 49)\n# fuzz: elapsed: 35s, execs: 9250002 (318175/sec), new interesting: 37 (total: 49)\nCtrl+C\n# PASS\n# ok      github.com/coderofrat/fuzz      36.236s\n\ngo test -fuzz=Fuzz -fuzztime=31s\n# fuzz: elapsed: 0s, gathering baseline coverage: 0/49 completed\n# fuzz: elapsed: 0s, gathering baseline coverage: 49/49 completed, now fuzzing with 16 workers\n# fuzz: elapsed: 3s, execs: 1084158 (360639/sec), new interesting: 4 (total: 53)\n# fuzz: elapsed: 6s, execs: 2175019 (364273/sec), new interesting: 4 (total: 53)\n# fuzz: elapsed: 9s, execs: 3197978 (341022/sec), new interesting: 4 (total: 53)\n# fuzz: elapsed: 12s, execs: 4219255 (340351/sec), new interesting: 4 (total: 53)\n# fuzz: elapsed: 15s, execs: 5239889 (340280/sec), new interesting: 4 (total: 53)\n# fuzz: elapsed: 18s, execs: 6259160 (339761/sec), new interesting: 4 (total: 53)\n# fuzz: elapsed: 21s, execs: 7242820 (326784/sec), new interesting: 4 (total: 53)\n# fuzz: elapsed: 24s, execs: 8241131 (333902/sec), new interesting: 4 (total: 53)\n# fuzz: elapsed: 27s, execs: 9270668 (343065/sec), new interesting: 4 (total: 53)\n# fuzz: elapsed: 30s, execs: 10292174 (340619/sec), new interesting: 4 (total: 53)\n# fuzz: elapsed: 31s, execs: 10631411 (291237/sec), new interesting: 4 (total: 53)\n# PASS\n# ok      github.com/coderofrat/fuzz      31.263s\n"})}),"\n",(0,r.jsxs)(e.p,{children:["\u9664\u4e86 -fuzz \u6807\u5fd7\u4e4b\u5916\uff0cgo test \u8fd8\u6dfb\u52a0\u4e86\u51e0\u4e2a\u65b0\u6807\u5fd7\uff0c\u53ef\u4ee5\u5728",(0,r.jsx)(e.a,{href:"https://golang.google.cn/security/fuzz/#custom-settings",children:"\u6587\u6863"}),"\u4e2d\u67e5\u770b\u3002"]}),"\n",(0,r.jsx)(e.p,{children:"\u606d\u559c\uff0c\u6211\u4eec\u5df2\u7ecf\u5177\u5907\u5f00\u5c55\u6a21\u7cca\u6d4b\u8bd5\u7684\u57fa\u7840\u80fd\u529b\u5566\uff0c\u63a5\u4e0b\u6765\uff0c\u6211\u4eec\u8981\u5b66\u4f1a\u4f7f\u7528 govulncheck \u67e5\u627e\u5e76\u4fee\u590d\u6613\u53d7\u653b\u51fb\u7684\u4f9d\u8d56\u9879\u3002"}),"\n",(0,r.jsx)(e.h3,{id:"9-\u4f7f\u7528-govulncheck-\u67e5\u627e\u5e76\u4fee\u590d\u6613\u53d7\u653b\u51fb\u7684\u4f9d\u8d56\u9879",children:"9. \u4f7f\u7528 govulncheck \u67e5\u627e\u5e76\u4fee\u590d\u6613\u53d7\u653b\u51fb\u7684\u4f9d\u8d56\u9879"}),"\n",(0,r.jsxs)(e.p,{children:["\u672c\u8282\u9644\u539f\u6587\u6863\u5730\u5740",(0,r.jsx)(e.a,{href:"https://golang.google.cn/doc/tutorial/govulncheck",children:"Find and fix vulnerable dependencies with govulncheck"})]}),"\n",(0,r.jsx)(e.p,{children:"\u7b80\u8ff0\u5982\u4e0b\uff1a\nGovulncheck \u662f\u4e00\u6b3e\u4f4e\u566a\u97f3\u5de5\u5177\uff0c\u53ef\u5e2e\u52a9\u60a8\u67e5\u627e\u548c\u4fee\u590d Go \u9879\u76ee\u4e2d\u7684\u6613\u53d7\u653b\u51fb\u7684\u4f9d\u8d56\u9879\u3002\n\u5b83\u901a\u8fc7\u626b\u63cf\u9879\u76ee\u7684\u4f9d\u8d56\u9879\u4ee5\u67e5\u627e\u5df2\u77e5\u6f0f\u6d1e\uff0c\u7136\u540e\u8bc6\u522b\u4ee3\u7801\u4e2d\u5bf9\u8fd9\u4e9b\u6f0f\u6d1e\u7684\u4efb\u4f55\u76f4\u63a5\u6216\u95f4\u63a5\u8c03\u7528\u6765\u5b9e\u73b0\u6b64\u76ee\u7684\u3002"}),"\n",(0,r.jsx)(e.pre,{children:(0,r.jsx)(e.code,{className:"language-sh",children:"# \u5728\u9879\u76ee\u6587\u4ef6\u5939\uff0c\u4e0b\u8f7d\u7531\u5df2\u77e5\u6f0f\u6d1e\u7684\u4f9d\u8d56\u7248\u672c\uff1a\ngo get golang.org/x/text@v0.3.5\n\n# \u4e0b\u8f7dgovulncheck\u6700\u65b0\u7248\ngo install golang.org/x/vuln/cmd/govulncheck@latest\n\n# \u6267\u884c\u68c0\u67e5\ngovulncheck . #\u542b\u6709go.mod\u7684\u76ee\u5f55\n# No vulnerabilities found. \u4ee3\u8868\u6ca1\u6709\u53d1\u73b0\u6f0f\u6d1e\n"})}),"\n",(0,r.jsx)(e.p,{children:"\u81f3\u6b64\uff0c\u6211\u4eec\u5b8c\u6210\u4e86\u6240\u6709Go\u57fa\u7840\u6587\u6863\u7684\u5b66\u4e60\u3002\u63a5\u4e0b\u91cc\uff0c\u901a\u8fc7Go \u7684\u4ea4\u4e92\u5f0f\u5b66\u4e60\u4e86\u89e3Go\u7684\uff1a\u57fa\u672c\u8bed\u6cd5\u548c\u6570\u636e\u7ed3\u6784\u3001\u65b9\u6cd5\u548c\u63a5\u53e3\u3001\u4ee5\u53ca Go \u7684\u5e76\u53d1\uff08concurrency\uff09\u539f\u8bed\u3002"}),"\n",(0,r.jsx)(e.p,{children:(0,r.jsx)(e.a,{href:"https://golang.google.cn/tour/",children:"let's Go!"})})]})}function g(n={}){const{wrapper:e}={...(0,l.R)(),...n.components};return e?(0,r.jsx)(e,{...n,children:(0,r.jsx)(a,{...n})}):a(n)}},5317:(n,e,s)=>{s.d(e,{A:()=>t});const t=s.p+"assets/images/2025-02-27_142024-bda82196298a5d8ccfce43cd0bacc830.png"},9613:(n,e,s)=>{s.d(e,{A:()=>t});const t=s.p+"assets/images/2025-02-27_173558-7ee867e003b52f47ada1d6f095ad6887.png"},3322:(n,e,s)=>{s.d(e,{A:()=>t});const t=s.p+"assets/images/2025-03-12_173839-f823072af3078db1b77506db953fe196.png"},5064:(n,e,s)=>{s.d(e,{A:()=>t});const t=s.p+"assets/images/2025-03-12_174326-d27e6ee85c001333aa6e0c8ca20c0d72.png"},1968:(n,e,s)=>{s.d(e,{A:()=>t});const t=s.p+"assets/images/2025-03-13_085335-617f4190cc523c83dbe48a2a74acea7a.png"},688:(n,e,s)=>{s.d(e,{A:()=>t});const t=s.p+"assets/images/2025-03-13_085407-fcbddbe9f8d911c71ca384fdfe252ca1.png"},3044:(n,e,s)=>{s.d(e,{A:()=>t});const t=s.p+"assets/images/2025-03-13_085836-ff0c19942c0137d9adb4ab47258c40ea.png"},8453:(n,e,s)=>{s.d(e,{R:()=>i,x:()=>o});var t=s(6540);const r={},l=t.createContext(r);function i(n){const e=t.useContext(l);return t.useMemo((function(){return"function"==typeof n?n(e):{...e,...n}}),[e,n])}function o(n){let e;return e=n.disableParentContext?"function"==typeof n.components?n.components(r):n.components||r:i(n.components),t.createElement(l.Provider,{value:e},n.children)}}}]);